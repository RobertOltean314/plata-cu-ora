<div class="calendar-container">
  <h3>Propune Date (inceput si sfarsit luna curenta)</h3>
  <div class="date-row">
    <label>de la:</label>
    <input 
      type="date" 
      [formControl]="startDateControl" 
      [disabled]="status === 'Validat'"
      (change)="onDateChange()"
    >
    <label>pana la:</label>
    <input 
      type="date" 
      [formControl]="endDateControl" 
      [disabled]="status === 'Validat'"
      (change)="onDateChange()"
    >
    <button (click)="generateCalendar()" [disabled]="status === 'Validat'">Generare Calendar</button>
    <span class="status">
      stare:
      <span 
        [class.validated]="status === 'Validat'" 
        [class.editing]="status === 'Editare'">
        {{ status === 'Validat' ? 'Validat' : 'In editare' }}
      </span>
    </span>
    <button 
      (click)="validateCalendar()"
      title="Genereaza calendarul inainte de validare"
    >Valideaza Calendar</button>
    <button>Genereaza PO</button>
  </div>
  <table *ngIf="calendarData.length > 0">
    <thead>
      <tr>
        <th>Data</th>
        <th>Zi saptamana</th>
        <th>Zi lucratoare</th>
        <th>Par / Impar</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let day of calendarData">
        <td>{{ formatDate(day.date) }}</td>
        <td>{{ day.dayOfWeek }}</td>
        <td>
          <select [(ngModel)]="day.workDayStatus" (ngModelChange)="onWorkDayChange(day, $event)" [disabled]="status === 'Validat'">
            <option value="">--</option>
            <option value="Zi lucratoare">Zi lucratoare</option>
            <option value="Zi nelucratoare">Zi nelucratoare</option>
          </select>
        </td>
        <td>{{ day.parityType }}</td>
      </tr>
    </tbody>
  </table>
</div>