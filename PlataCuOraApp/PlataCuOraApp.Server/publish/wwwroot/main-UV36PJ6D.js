import{$ as C,$a as tt,$b as ec,A as wt,Aa as gs,Ab as Fs,B as Wi,Ba as vs,Bb as Vs,C as ge,Ca as _s,Cb as hr,D as nr,Da as ir,Db as js,E as Qe,Ea as $,Eb as ce,F as qi,Fa as He,Fb as Ft,G as Za,Ga as mn,Gb as Hs,H as Xa,Ha as O,Hb as zs,I as Qa,Ia as bs,Ib as Bs,J as es,Ja as ys,Jb as gn,K as ve,Ka as or,Kb as $s,L as ts,La as ar,Lb as Vt,M as X,Ma as eo,Mb as Ws,N as B,Na as Cs,Nb as Se,O as et,Oa as to,Ob as rt,P as A,Pa as ws,Pb as ae,Q as je,Qa as Is,Qb as qs,R as ns,Ra as sr,Rb as Gs,S as K,Sa as g,Sb as Ks,T as Gi,Ta as cr,Tb as it,U as M,Ua as Ss,Ub as Ys,V as P,Va as lr,Vb as Js,W as rs,Wa as Es,Wb as ro,X as Lt,Xa as Ts,Xb as Zs,Y as we,Ya as l,Yb as Xs,Z as un,Za as d,Zb as Qs,_ as y,_a as w,_b as ot,a as b,aa as is,ab as nt,ac as at,b as G,ba as Ki,bb as z,bc as Q,c as yt,ca as os,cb as S,cc as tc,d as f,da as rr,db as _,dc as pe,e as Wa,ea as as,eb as Ps,ec as jt,f as qa,fa as ss,fb as Os,fc as fe,g as Ga,ga as It,gb as Rs,gc as Ee,h as zi,ha as Ie,hb as Ms,hc as nc,i as Bi,ia as Yi,ib as oe,ic as Ht,j as Fe,ja as cs,jb as h,jc as Te,k as re,ka as Ji,kb as Y,kc as Pe,l as Ve,la as ls,lb as J,lc as rc,m as er,ma as Zi,mb as As,mc as pr,n as te,na as ds,nb as U,nc as ic,o as E,oa as hn,ob as F,oc as st,p as ln,pa as Xi,pb as V,pc as ct,q as Ka,qa as us,qb as no,qc as lt,r as Ya,ra as hs,rb as Ut,rc as zt,s as N,sa as ps,sb as ks,sc as fr,t as tr,ta as pn,tb as xs,tc as oc,u as ie,ua as fs,ub as dr,uc as mr,v as dn,va as p,vb as Ds,vc as gr,w as Ja,wa as fn,wb as Ns,wc as vr,x as $i,xa as ms,xb as Ls,xc as ac,y as Xe,ya as Qi,yb as Us,z as Ct,za as k,zb as ur}from"./chunk-FSMMVNMM.js";var yr=new K(""),so=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,o){return this._findPluginFor(r).addEventListener(e,r,i,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(M(yr),M(Ie))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),vn=class{_doc;constructor(t){this._doc=t}manager},_r="ng-app-id";function sc(n){for(let t of n)t.remove()}function cc(n,t){let e=t.createElement("style");return e.textContent=n,e}function jd(n,t,e,r){let i=n.head?.querySelectorAll(`style[${_r}="${t}"],link[${_r}="${t}"]`);if(i)for(let o of i)o.removeAttribute(_r),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function oo(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var co=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=ro(o),jd(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,cc);r?.forEach(i=>this.addUsage(i,this.external,oo))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(sc(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])sc(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,cc(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,oo(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(_r,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(M(ce),M(Zi),M(Xi,8),M(hn))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),io={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},lo=/%COMP%/g;var dc="%COMP%",Hd=`_nghost-${dc}`,zd=`_ngcontent-${dc}`,Bd=!0,$d=new K("",{providedIn:"root",factory:()=>Bd});function Wd(n){return zd.replace(lo,n)}function qd(n){return Hd.replace(lo,n)}function uc(n,t){return t.map(e=>e.replace(lo,n))}var uo=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,a,s,c,u=null,m=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=s,this.ngZone=c,this.nonce=u,this.tracingService=m,this.platformIsServer=ro(s),this.defaultRenderer=new _n(e,a,c,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===pn.ShadowDom&&(r=G(b({},r),{encapsulation:pn.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof br?i.applyToHost(e):i instanceof bn&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let a=this.doc,s=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,I=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case pn.Emulated:o=new br(c,u,r,this.appId,m,a,s,I,v);break;case pn.ShadowDom:return new ao(c,u,e,r,a,s,this.nonce,I,v);default:o=new bn(c,u,r,m,a,s,I,v);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(M(so),M(co),M(Zi),M($d),M(ce),M(hn),M(Ie),M(Xi),M(us,8))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),_n=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,i,o){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(io[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(lc(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(lc(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new B(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;let o=io[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let i=io[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(fn.DashCase|fn.Important)?t.style.setProperty(e,r,i&fn.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&fn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,i){if(typeof t=="string"&&(t=Ft().getGlobalEventTarget(this.doc,t),!t))throw new B(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function lc(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var ao=class extends _n{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,i,o,a,s,c,u){super(t,o,a,c,u),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=i.styles;m=uc(i.id,m);for(let v of m){let x=document.createElement("style");s&&x.setAttribute("nonce",s),x.textContent=v,this.shadowRoot.appendChild(x)}let I=i.getExternalStyles?.();if(I)for(let v of I){let x=oo(v,o);s&&x.setAttribute("nonce",s),this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},bn=class extends _n{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,i,o,a,s,c,u){super(t,o,a,s,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let m=r.styles;this.styles=u?uc(u,m):m,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},br=class extends bn{contentAttr;hostAttr;constructor(t,e,r,i,o,a,s,c,u){let m=i+"-"+r.id;super(t,e,r,o,a,s,c,u,m),this.contentAttr=Wd(m),this.hostAttr=qd(m)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}};var Cr=class n extends zs{supportsDOMEvents=!0;static makeCurrent(){Hs(new n)}onAndCancel(t,e,r,i){return t.addEventListener(e,r,i),()=>{t.removeEventListener(e,r,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=Gd();return e==null?null:Kd(e)}resetBaseElement(){yn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ys(document.cookie,t)}},yn=null;function Gd(){return yn=yn||document.querySelector("base"),yn?yn.getAttribute("href"):null}function Kd(n){return new URL(n,document.baseURI).pathname}var wr=class{addToWindow(t){et.getAngularTestability=(r,i=!0)=>{let o=t.findTestabilityInTree(r,i);if(o==null)throw new B(5103,!1);return o},et.getAllAngularTestabilities=()=>t.getAllTestabilities(),et.getAllAngularRootElements=()=>t.getAllRootElements();let e=r=>{let i=et.getAllAngularTestabilities(),o=i.length,a=function(){o--,o==0&&r()};i.forEach(s=>{s.whenStable(a)})};et.frameworkStabilizers||(et.frameworkStabilizers=[]),et.frameworkStabilizers.push(e)}findTestabilityInTree(t,e,r){if(e==null)return null;let i=t.getTestability(e);return i??(r?Ft().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},Yd=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),pc=(()=>{class n extends vn{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,o){return e.addEventListener(r,i,o),()=>this.removeEventListener(e,r,i,o)}removeEventListener(e,r,i,o){return e.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(M(ce))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),hc=["alt","control","meta","shift"],Jd={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zd={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},fc=(()=>{class n extends vn{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,i,o){let a=n.parseEventName(r),s=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ft().onAndCancel(e,a.domEventName,s,o))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),a="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),a="code."),hc.forEach(u=>{let m=r.indexOf(u);m>-1&&(r.splice(m,1),a+=u+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=a,c}static matchEventFullKeyCode(e,r){let i=Jd[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),hc.forEach(a=>{if(a!==i){let s=Zd[a];s(e)&&(o+=a+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(M(ce))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})();function Xd(){Cr.makeCurrent()}function Qd(){return new Yi}function eu(){return ls(document),document}var tu=[{provide:hn,useValue:Js},{provide:ds,useValue:Xd,multi:!0},{provide:ce,useFactory:eu}],ho=Us(Fs,"browser",tu);var nu=[{provide:or,useClass:wr},{provide:ys,useClass:ar,deps:[Ie,eo,or]},{provide:ar,useClass:ar,deps:[Ie,eo,or]}],ru=[{provide:rs,useValue:"root"},{provide:Yi,useFactory:Qd},{provide:yr,useClass:pc,multi:!0,deps:[ce]},{provide:yr,useClass:fc,multi:!0,deps:[ce]},uo,co,so,{provide:ms,useExisting:uo},{provide:Zs,useClass:Yd},[]],po=(()=>{class n{constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275mod=He({type:n});static \u0275inj=je({providers:[...ru,...nu],imports:[it,Vs]})}return n})();var mc=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(M(ce))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var R="primary",xn=Symbol("RouteTitle"),_o=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Tt(n){return new _o(n)}function Sc(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let a=r[o],s=n[o];if(a[0]===":")i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function iu(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Oe(n[e],t[e]))return!1;return!0}function Oe(n,t){let e=n?bo(n):void 0,r=t?bo(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!Ec(n[i],t[i]))return!1;return!0}function bo(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Ec(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}else return n===t}function Tc(n){return n.length>0?n[n.length-1]:null}function ft(n){return Ka(n)?n:Cs(n)?te(Promise.resolve(n)):E(n)}var ou={exact:Oc,subset:Rc},Pc={exact:au,subset:su,ignored:()=>!0};function vc(n,t,e){return ou[e.paths](n.root,t.root,e.matrixParams)&&Pc[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function au(n,t){return Oe(n,t)}function Oc(n,t,e){if(!St(n.segments,t.segments)||!Er(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!Oc(n.children[r],t.children[r],e))return!1;return!0}function su(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Ec(n[e],t[e]))}function Rc(n,t,e){return Mc(n,t,t.segments,e)}function Mc(n,t,e,r){if(n.segments.length>e.length){let i=n.segments.slice(0,e.length);return!(!St(i,e)||t.hasChildren()||!Er(i,e,r))}else if(n.segments.length===e.length){if(!St(n.segments,e)||!Er(n.segments,e,r))return!1;for(let i in t.children)if(!n.children[i]||!Rc(n.children[i],t.children[i],r))return!1;return!0}else{let i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!St(n.segments,i)||!Er(n.segments,i,r)||!n.children[R]?!1:Mc(n.children[R],t,o,r)}}function Er(n,t,e){return t.every((r,i)=>Pc[e](n[i].parameters,r.parameters))}var Me=class{root;queryParams;fragment;_queryParamMap;constructor(t=new D([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Tt(this.queryParams),this._queryParamMap}toString(){return du.serialize(this)}},D=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tr(this)}},dt=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Tt(this.parameters),this._parameterMap}toString(){return kc(this)}};function cu(n,t){return St(n,t)&&n.every((e,r)=>Oe(e.parameters,t[r].parameters))}function St(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function lu(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===R&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==R&&(e=e.concat(t(i,r)))}),e}var Pt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:()=>new ut,providedIn:"root"})}return n})(),ut=class{parse(t){let e=new Co(t);return new Me(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Cn(t.root,!0)}`,r=pu(t.queryParams),i=typeof t.fragment=="string"?`#${uu(t.fragment)}`:"";return`${e}${r}${i}`}},du=new ut;function Tr(n){return n.segments.map(t=>kc(t)).join("/")}function Cn(n,t){if(!n.hasChildren())return Tr(n);if(t){let e=n.children[R]?Cn(n.children[R],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==R&&r.push(`${i}:${Cn(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=lu(n,(r,i)=>i===R?[Cn(n.children[R],!1)]:[`${i}:${Cn(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[R]!=null?`${Tr(n)}/${e[0]}`:`${Tr(n)}/(${e.join("//")})`}}function Ac(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ir(n){return Ac(n).replace(/%3B/gi,";")}function uu(n){return encodeURI(n)}function yo(n){return Ac(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pr(n){return decodeURIComponent(n)}function _c(n){return Pr(n.replace(/\+/g,"%20"))}function kc(n){return`${yo(n.path)}${hu(n.parameters)}`}function hu(n){return Object.entries(n).map(([t,e])=>`;${yo(t)}=${yo(e)}`).join("")}function pu(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Ir(e)}=${Ir(i)}`).join("&"):`${Ir(e)}=${Ir(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var fu=/^[^\/()?;#]+/;function fo(n){let t=n.match(fu);return t?t[0]:""}var mu=/^[^\/()?;=#]+/;function gu(n){let t=n.match(mu);return t?t[0]:""}var vu=/^[^=?&#]+/;function _u(n){let t=n.match(vu);return t?t[0]:""}var bu=/^[^&#]+/;function yu(n){let t=n.match(bu);return t?t[0]:""}var Co=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new D([],{}):new D([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[R]=new D(t,e)),r}parseSegment(){let t=fo(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(t),new dt(Pr(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=gu(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=fo(this.remaining);i&&(r=i,this.capture(r))}t[Pr(e)]=Pr(r)}parseQueryParam(t){let e=_u(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let a=yu(this.remaining);a&&(r=a,this.capture(r))}let i=_c(e),o=_c(r);if(t.hasOwnProperty(i)){let a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=fo(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=R);let a=this.parseChildren();e[o]=Object.keys(a).length===1?a[R]:new D([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new B(4011,!1)}};function xc(n){return n.segments.length>0?new D([],{[R]:n}):n}function Dc(n){let t={};for(let[r,i]of Object.entries(n.children)){let o=Dc(i);if(r===R&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))t[a]=s;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let e=new D(n.segments,t);return Cu(e)}function Cu(n){if(n.numberOfChildren===1&&n.children[R]){let t=n.children[R];return new D(n.segments.concat(t.segments),t.children)}return n}function ht(n){return n instanceof Me}function Nc(n,t,e=null,r=null){let i=Lc(n);return Uc(i,t,e,r)}function Lc(n){let t;function e(o){let a={};for(let c of o.children){let u=e(c);a[c.outlet]=u}let s=new D(o.url,a);return o===n&&(t=s),s}let r=e(n.root),i=xc(r);return t??i}function Uc(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(t.length===0)return mo(i,i,i,e,r);let o=wu(t);if(o.toRoot())return mo(i,i,new D([],{}),e,r);let a=Iu(o,i,n),s=a.processChildren?In(a.segmentGroup,a.index,o.commands):Vc(a.segmentGroup,a.index,o.commands);return mo(i,a.segmentGroup,s,e,r)}function Rr(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function En(n){return typeof n=="object"&&n!=null&&n.outlets}function mo(n,t,e,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(m=>`${m}`):`${u}`});let a;n===t?a=e:a=Fc(n,t,e);let s=xc(Dc(a));return new Me(s,o,i)}function Fc(n,t,e){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===t?r[i]=e:r[i]=Fc(o,t,e)}),new D(n.segments,r)}var Mr=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Rr(r[0]))throw new B(4003,!1);let i=r.find(En);if(i&&i!==Tc(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function wu(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Mr(!0,0,n);let t=0,e=!1,r=n.reduce((i,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([c,u])=>{s[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:s}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:a===0?(o.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?e=!0:s===".."?t++:s!=""&&i.push(s))}),i):[...i,o]},[]);return new Mr(e,t,r)}var Wt=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function Iu(n,t,e){if(n.isAbsolute)return new Wt(t,!0,0);if(!e)return new Wt(t,!1,NaN);if(e.parent===null)return new Wt(e,!0,0);let r=Rr(n.commands[0])?0:1,i=e.segments.length-1+r;return Su(e,i,n.numberOfDoubleDots)}function Su(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new Wt(r,!1,i-o)}function Eu(n){return En(n[0])?n[0].outlets:{[R]:n}}function Vc(n,t,e){if(n??=new D([],{}),n.segments.length===0&&n.hasChildren())return In(n,t,e);let r=Tu(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new D(n.segments.slice(0,r.pathIndex),{});return o.children[R]=new D(n.segments.slice(r.pathIndex),n.children),In(o,0,i)}else return r.match&&i.length===0?new D(n.segments,{}):r.match&&!n.hasChildren()?wo(n,t,e):r.match?In(n,0,i):wo(n,t,e)}function In(n,t,e){if(e.length===0)return new D(n.segments,{});{let r=Eu(e),i={};if(Object.keys(r).some(o=>o!==R)&&n.children[R]&&n.numberOfChildren===1&&n.children[R].segments.length===0){let o=In(n.children[R],t,e);return new D(n.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[o]=Vc(n.children[o],t,a))}),Object.entries(n.children).forEach(([o,a])=>{r[o]===void 0&&(i[o]=a)}),new D(n.segments,i)}}function Tu(n,t,e){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;let a=n.segments[i],s=e[r];if(En(s))break;let c=`${s}`,u=r<e.length-1?e[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!yc(c,u,a))return o;r+=2}else{if(!yc(c,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function wo(n,t,e){let r=n.segments.slice(0,t),i=0;for(;i<e.length;){let o=e[i];if(En(o)){let c=Pu(o.outlets);return new D(r,c)}if(i===0&&Rr(e[0])){let c=n.segments[t];r.push(new dt(c.path,bc(e[0]))),i++;continue}let a=En(o)?o.outlets[R]:`${o}`,s=i<e.length-1?e[i+1]:null;a&&s&&Rr(s)?(r.push(new dt(a,bc(s))),i+=2):(r.push(new dt(a,{})),i++)}return new D(r,{})}function Pu(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=wo(new D([],{}),0,r))}),t}function bc(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function yc(n,t,e){return n==e.path&&Oe(t,e.parameters)}var Or="imperative",q=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(q||{}),de=class{id;url;constructor(t,e){this.id=t,this.url=e}},pt=class extends de{type=q.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ue=class extends de{urlAfterRedirects;type=q.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},se=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(se||{}),Gt=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Gt||{}),Re=class extends de{reason;code;type=q.NavigationCancel;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ae=class extends de{reason;code;type=q.NavigationSkipped;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}},Kt=class extends de{error;target;type=q.NavigationError;constructor(t,e,r,i){super(t,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Tn=class extends de{urlAfterRedirects;state;type=q.RoutesRecognized;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ar=class extends de{urlAfterRedirects;state;type=q.GuardsCheckStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kr=class extends de{urlAfterRedirects;state;shouldActivate;type=q.GuardsCheckEnd;constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},xr=class extends de{urlAfterRedirects;state;type=q.ResolveStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dr=class extends de{urlAfterRedirects;state;type=q.ResolveEnd;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nr=class{route;type=q.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Lr=class{route;type=q.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ur=class{snapshot;type=q.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fr=class{snapshot;type=q.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vr=class{snapshot;type=q.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jr=class{snapshot;type=q.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yt=class{routerEvent;position;anchor;type=q.Scroll;constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Pn=class{},Jt=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function Ou(n,t){return n.providers&&!n._injector&&(n._injector=ir(n.providers,t,`Route: ${n.path}`)),n._injector??t}function _e(n){return n.outlet||R}function Ru(n,t){let e=n.filter(r=>_e(r)===t);return e.push(...n.filter(r=>_e(r)!==t)),e}function Dn(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Hr=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Dn(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Ot(this.rootInjector)}},Ot=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Hr(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(M(Lt))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zr=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Io(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=Io(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=So(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return So(t,this._root).map(e=>e.value)}};function Io(n,t){if(n===t.value)return t;for(let e of t.children){let r=Io(n,e);if(r)return r}return null}function So(n,t){if(n===t.value)return[t];for(let e of t.children){let r=So(n,e);if(r.length)return r.unshift(t),r}return[]}var le=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function $t(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var On=class extends zr{snapshot;constructor(t,e){super(t),this.snapshot=e,ko(this,t)}toString(){return this.snapshot.toString()}};function jc(n){let t=Mu(n),e=new re([new dt("",{})]),r=new re({}),i=new re({}),o=new re({}),a=new re(""),s=new ze(e,r,o,a,i,R,n,t.root);return s.snapshot=t.root,new On(new le(s,[]),t)}function Mu(n){let t={},e={},r={},i="",o=new Et([],t,r,i,e,R,n,null,{});return new Rn("",new le(o,[]))}var ze=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,i,o,a,s,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(N(u=>u[xn]))??E(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(N(t=>Tt(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(N(t=>Tt(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Br(n,t,e="emptyOnly"){let r,{routeConfig:i}=n;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:b(b({},t.params),n.params),data:b(b({},t.data),n.data),resolve:b(b(b(b({},n.data),t.data),i?.data),n._resolvedData)}:r={params:b({},n.params),data:b({},n.data),resolve:b(b({},n.data),n._resolvedData??{})},i&&zc(i)&&(r.resolve[xn]=i.title),r}var Et=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[xn]}constructor(t,e,r,i,o,a,s,c,u){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Tt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Tt(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Rn=class extends zr{url;constructor(t,e){super(e),this.url=t,ko(this,e)}toString(){return Hc(this._root)}};function ko(n,t){t.value._routerState=n,t.children.forEach(e=>ko(n,e))}function Hc(n){let t=n.children.length>0?` { ${n.children.map(Hc).join(", ")} } `:"";return`${n.value}${t}`}function go(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Oe(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Oe(t.params,e.params)||n.paramsSubject.next(e.params),iu(t.url,e.url)||n.urlSubject.next(e.url),Oe(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Eo(n,t){let e=Oe(n.params,t.params)&&cu(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||Eo(n.parent,t.parent))}function zc(n){return typeof n.title=="string"||n.title===null}var Bc=new K(""),Nn=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=R;activateEvents=new It;deactivateEvents=new It;attachEvents=new It;detachEvents=new It;routerOutletData=cs(void 0);parentContexts=P(Ot);location=P(vs);changeDetector=P(ur);inputBinder=P(Ln,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=e;let i=this.location,a=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new To(e,s,i.injector,this.routerOutletData);this.activated=i.createComponent(a,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=mn({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[un]})}return n})(),To=class{route;childContexts;parent;outletData;constructor(t,e,r,i){this.route=t,this.childContexts=e,this.parent=r,this.outletData=i}get(t,e){return t===ze?this.route:t===Ot?this.childContexts:t===Bc?this.outletData:this.parent.get(t,e)}},Ln=new K(""),xo=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,i=tr([r.queryParams,r.params,r.data]).pipe(ve(([o,a,s],c)=>(s=b(b(b({},o),a),s),c===0?E(s):Promise.resolve(s)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let a=js(r.component);if(!a){this.unsubscribeFromRouteData(e);return}for(let{templateName:s}of a.inputs)e.activatedComponentRef.setInput(s,o[s])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})();function Au(n,t,e){let r=Mn(n,t._root,e?e._root:void 0);return new On(r,t)}function Mn(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let i=ku(n,t,e);return new le(r,i)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(s=>Mn(n,s)),a}}let r=xu(t.value),i=t.children.map(o=>Mn(n,o));return new le(r,i)}}function ku(n,t,e){return t.children.map(r=>{for(let i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Mn(n,r,i);return Mn(n,r)})}function xu(n){return new ze(new re(n.url),new re(n.params),new re(n.queryParams),new re(n.fragment),new re(n.data),n.outlet,n.component,n)}var Zt=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},$c="ngNavigationCancelingError";function $r(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=ht(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Wc(!1,se.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function Wc(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[$c]=!0,e.cancellationCode=t,e}function Du(n){return qc(n)&&ht(n.url)}function qc(n){return!!n&&n[$c]}var Nu=(n,t,e,r)=>N(i=>(new Po(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)),Po=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),go(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let i=$t(e);t.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(i===o)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=$t(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=$t(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let i=$t(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new jr(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Fr(t.value.snapshot))}activateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(go(i),i===o)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),go(s.route.value),this.activateChildRoutes(t,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(t,null,a.children)}else this.activateChildRoutes(t,null,r)}},Wr=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},qt=class{component;route;constructor(t,e){this.component=t,this.route=e}};function Lu(n,t,e){let r=n._root,i=t?t._root:null;return wn(r,i,e,[r.value])}function Uu(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function Qt(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!ns(n)?n:t.get(n):r}function wn(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=$t(t);return n.children.forEach(a=>{Fu(a,o[a.value.outlet],e,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>Sn(s,e.getContext(a),i)),i}function Fu(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,a=t?t.value:null,s=e?e.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let c=Vu(a,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Wr(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?wn(n,t,s?s.children:null,r,i):wn(n,t,e,r,i),c&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new qt(s.outlet.component,a))}else a&&Sn(t,s,i),i.canActivateChecks.push(new Wr(r)),o.component?wn(n,null,s?s.children:null,r,i):wn(n,null,e,r,i);return i}function Vu(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!St(n.url,t.url);case"pathParamsOrQueryParamsChange":return!St(n.url,t.url)||!Oe(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Eo(n,t)||!Oe(n.queryParams,t.queryParams);case"paramsChange":default:return!Eo(n,t)}}function Sn(n,t,e){let r=$t(n),i=n.value;Object.entries(r).forEach(([o,a])=>{i.component?t?Sn(a,t.children.getContext(o),e):Sn(a,null,e):Sn(a,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new qt(t.outlet.component,i)):e.canDeactivateChecks.push(new qt(null,i)):e.canDeactivateChecks.push(new qt(null,i))}function Un(n){return typeof n=="function"}function ju(n){return typeof n=="boolean"}function Hu(n){return n&&Un(n.canLoad)}function zu(n){return n&&Un(n.canActivate)}function Bu(n){return n&&Un(n.canActivateChild)}function $u(n){return n&&Un(n.canDeactivate)}function Wu(n){return n&&Un(n.canMatch)}function Gc(n){return n instanceof Ya||n?.name==="EmptyError"}var Sr=Symbol("INITIAL_VALUE");function Xt(){return ve(n=>tr(n.map(t=>t.pipe(ge(1),es(Sr)))).pipe(N(t=>{for(let e of t)if(e!==!0){if(e===Sr)return Sr;if(e===!1||qu(e))return e}return!0}),Xe(t=>t!==Sr),ge(1)))}function qu(n){return ht(n)||n instanceof Zt}function Gu(n,t){return ie(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return a.length===0&&o.length===0?E(G(b({},e),{guardsResult:!0})):Ku(a,r,i,n).pipe(ie(s=>s&&ju(s)?Yu(r,o,n,t):E(s)),N(s=>G(b({},e),{guardsResult:s})))})}function Ku(n,t,e,r){return te(n).pipe(ie(i=>eh(i.component,i.route,e,t,r)),Qe(i=>i!==!0,!0))}function Yu(n,t,e,r){return te(t).pipe(wt(i=>Ja(Zu(i.route.parent,r),Ju(i.route,r),Qu(n,i.path,e),Xu(n,i.route,e))),Qe(i=>i!==!0,!0))}function Ju(n,t){return n!==null&&t&&t(new Vr(n)),E(!0)}function Zu(n,t){return n!==null&&t&&t(new Ur(n)),E(!0)}function Xu(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return E(!0);let i=r.map(o=>$i(()=>{let a=Dn(t)??e,s=Qt(o,a),c=zu(s)?s.canActivate(t,n):we(a,()=>s(t,n));return ft(c).pipe(Qe())}));return E(i).pipe(Xt())}function Qu(n,t,e){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>Uu(a)).filter(a=>a!==null).map(a=>$i(()=>{let s=a.guards.map(c=>{let u=Dn(a.node)??e,m=Qt(c,u),I=Bu(m)?m.canActivateChild(r,n):we(u,()=>m(r,n));return ft(I).pipe(Qe())});return E(s).pipe(Xt())}));return E(o).pipe(Xt())}function eh(n,t,e,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return E(!0);let a=o.map(s=>{let c=Dn(t)??i,u=Qt(s,c),m=$u(u)?u.canDeactivate(n,t,e,r):we(c,()=>u(n,t,e,r));return ft(m).pipe(Qe())});return E(a).pipe(Xt())}function th(n,t,e,r){let i=t.canLoad;if(i===void 0||i.length===0)return E(!0);let o=i.map(a=>{let s=Qt(a,n),c=Hu(s)?s.canLoad(t,e):we(n,()=>s(t,e));return ft(c)});return E(o).pipe(Xt(),Kc(r))}function Kc(n){return qa(X(t=>{if(typeof t!="boolean")throw $r(n,t)}),N(t=>t===!0))}function nh(n,t,e,r){let i=t.canMatch;if(!i||i.length===0)return E(!0);let o=i.map(a=>{let s=Qt(a,n),c=Wu(s)?s.canMatch(t,e):we(n,()=>s(t,e));return ft(c)});return E(o).pipe(Xt(),Kc(r))}var An=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},kn=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Bt(n){return ln(new An(n))}function rh(n){return ln(new B(4e3,!1))}function ih(n){return ln(Wc(!1,se.GuardRejected))}var Oo=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return E(r);if(i.numberOfChildren>1||!i.children[R])return rh(`${t.redirectTo}`);i=i.children[R]}}applyRedirectCommands(t,e,r,i,o){if(typeof e!="string"){let s=e,{queryParams:c,fragment:u,routeConfig:m,url:I,outlet:v,params:x,data:L,title:ne}=i,Z=we(o,()=>s({params:x,data:L,queryParams:c,fragment:u,routeConfig:m,url:I,outlet:v,title:ne}));if(Z instanceof Me)throw new kn(Z);e=Z}let a=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if(e[0]==="/")throw new kn(a);return a}applyRedirectCreateUrlTree(t,e,r,i){let o=this.createSegmentGroup(t,e.root,r,i);return new Me(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);r[i]=e[s]}else r[i]=o}),r}createSegmentGroup(t,e,r,i){let o=this.createSegments(t,e.segments,r,i),a={};return Object.entries(e.children).forEach(([s,c])=>{a[s]=this.createSegmentGroup(t,c,r,i)}),new D(o,a)}createSegments(t,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){let i=r[e.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(t,e){let r=0;for(let i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}},Ro={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oh(n,t,e,r,i){let o=Yc(n,t,e);return o.matched?(r=Ou(t,r),nh(r,t,e,i).pipe(N(a=>a===!0?o:b({},Ro)))):E(o)}function Yc(n,t,e){if(t.path==="**")return ah(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?b({},Ro):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||Sc)(e,n,t);if(!i)return b({},Ro);let o={};Object.entries(i.posParams??{}).forEach(([s,c])=>{o[s]=c.path});let a=i.consumed.length>0?b(b({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function ah(n){return{matched:!0,parameters:n.length>0?Tc(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Cc(n,t,e,r){return e.length>0&&lh(n,e,r)?{segmentGroup:new D(t,ch(r,new D(e,n.children))),slicedSegments:[]}:e.length===0&&dh(n,e,r)?{segmentGroup:new D(n.segments,sh(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new D(n.segments,n.children),slicedSegments:e}}function sh(n,t,e,r){let i={};for(let o of e)if(Gr(n,t,o)&&!r[_e(o)]){let a=new D([],{});i[_e(o)]=a}return b(b({},r),i)}function ch(n,t){let e={};e[R]=t;for(let r of n)if(r.path===""&&_e(r)!==R){let i=new D([],{});e[_e(r)]=i}return e}function lh(n,t,e){return e.some(r=>Gr(n,t,r)&&_e(r)!==R)}function dh(n,t,e){return e.some(r=>Gr(n,t,r))}function Gr(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function uh(n,t,e){return t.length===0&&!n.children[e]}var Mo=class{};function hh(n,t,e,r,i,o,a="emptyOnly"){return new Ao(n,t,e,r,i,a,o).recognize()}var ph=31,Ao=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,i,o,a,s){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new Oo(this.urlSerializer,this.urlTree)}noMatchError(t){return new B(4002,`'${t.segmentGroup}'`)}recognize(){let t=Cc(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(N(({children:e,rootSnapshot:r})=>{let i=new le(r,e),o=new Rn("",i),a=Nc(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(t){let e=new Et([],Object.freeze({}),Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),R,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,R,e).pipe(N(r=>({children:r,rootSnapshot:e})),Ct(r=>{if(r instanceof kn)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof An?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r,o):this.processSegment(t,e,r,r.segments,i,!0,o).pipe(N(a=>a instanceof le?[a]:[]))}processChildren(t,e,r,i){let o=[];for(let a of Object.keys(r.children))a==="primary"?o.unshift(a):o.push(a);return te(o).pipe(wt(a=>{let s=r.children[a],c=Ru(e,a);return this.processSegmentGroup(t,c,s,a,i)}),Xa((a,s)=>(a.push(...s),a)),Wi(null),Za(),ie(a=>{if(a===null)return Bt(r);let s=Jc(a);return fh(s),E(s)}))}processSegment(t,e,r,i,o,a,s){return te(e).pipe(wt(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,r,i,o,a,s).pipe(Ct(u=>{if(u instanceof An)return E(null);throw u}))),Qe(c=>!!c),Ct(c=>{if(Gc(c))return uh(r,i,o)?E(new Mo):Bt(r);throw c}))}processSegmentAgainstRoute(t,e,r,i,o,a,s,c){return _e(r)!==a&&(a===R||!Gr(i,o,r))?Bt(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,a,c):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,o,a,c):Bt(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,a,s){let{matched:c,parameters:u,consumedSegments:m,positionalParamSegments:I,remainingSegments:v}=Yc(e,i,o);if(!c)return Bt(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ph&&(this.allowRedirects=!1));let x=new Et(o,u,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,wc(i),_e(i),i.component??i._loadedComponent??null,i,Ic(i)),L=Br(x,s,this.paramsInheritanceStrategy);x.params=Object.freeze(L.params),x.data=Object.freeze(L.data);let ne=this.applyRedirects.applyRedirectCommands(m,i.redirectTo,I,x,t);return this.applyRedirects.lineralizeSegments(i,ne).pipe(ie(Z=>this.processSegment(t,r,e,Z.concat(v),a,!1,s)))}matchSegmentAgainstRoute(t,e,r,i,o,a){let s=oh(e,r,i,t,this.urlSerializer);return r.path==="**"&&(e.children={}),s.pipe(ve(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(ve(({routes:u})=>{let m=r._loadedInjector??t,{parameters:I,consumedSegments:v,remainingSegments:x}=c,L=new Et(v,I,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,wc(r),_e(r),r.component??r._loadedComponent??null,r,Ic(r)),ne=Br(L,a,this.paramsInheritanceStrategy);L.params=Object.freeze(ne.params),L.data=Object.freeze(ne.data);let{segmentGroup:Z,slicedSegments:Le}=Cc(e,v,x,u);if(Le.length===0&&Z.hasChildren())return this.processChildren(m,u,Z,L).pipe(N(he=>new le(L,he)));if(u.length===0&&Le.length===0)return E(new le(L,[]));let Ue=_e(r)===o;return this.processSegment(m,u,Z,Le,Ue?R:o,!0,L).pipe(N(he=>new le(L,he instanceof le?[he]:[])))}))):Bt(e)))}getChildConfig(t,e,r){return e.children?E({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?E({routes:e._loadedRoutes,injector:e._loadedInjector}):th(t,e,r,this.urlSerializer).pipe(ie(i=>i?this.configLoader.loadChildren(t,e).pipe(X(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):ih(e))):E({routes:[],injector:t})}};function fh(n){n.sort((t,e)=>t.value.outlet===R?-1:e.value.outlet===R?1:t.value.outlet.localeCompare(e.value.outlet))}function mh(n){let t=n.value.routeConfig;return t&&t.path===""}function Jc(n){let t=[],e=new Set;for(let r of n){if(!mh(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):t.push(r)}for(let r of e){let i=Jc(r.children);t.push(new le(r.value,i))}return t.filter(r=>!e.has(r))}function wc(n){return n.data||{}}function Ic(n){return n.resolve||{}}function gh(n,t,e,r,i,o){return ie(a=>hh(n,t,e,r,a.extractedUrl,i,o).pipe(N(({state:s,tree:c})=>G(b({},a),{targetSnapshot:s,urlAfterRedirects:c}))))}function vh(n,t){return ie(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return E(e);let o=new Set(i.map(c=>c.route)),a=new Set;for(let c of o)if(!a.has(c))for(let u of Zc(c))a.add(u);let s=0;return te(a).pipe(wt(c=>o.has(c)?_h(c,r,n,t):(c.data=Br(c,c.parent,n).resolve,E(void 0))),X(()=>s++),qi(1),ie(c=>s===a.size?E(e):Ve))})}function Zc(n){let t=n.children.map(e=>Zc(e)).flat();return[n,...t]}function _h(n,t,e,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!zc(i)&&(o[xn]=i.title),bh(o,n,t,r).pipe(N(a=>(n._resolvedData=a,n.data=Br(n,n.parent,e).resolve,null)))}function bh(n,t,e,r){let i=bo(n);if(i.length===0)return E({});let o={};return te(i).pipe(ie(a=>yh(n[a],t,e,r).pipe(Qe(),X(s=>{if(s instanceof Zt)throw $r(new ut,s);o[a]=s}))),qi(1),N(()=>o),Ct(a=>Gc(a)?Ve:ln(a)))}function yh(n,t,e,r){let i=Dn(t)??r,o=Qt(n,i),a=o.resolve?o.resolve(t,e):we(i,()=>o(t,e));return ft(a)}function vo(n){return ve(t=>{let e=n(t);return e?te(e).pipe(N(()=>t)):E(t)})}var Do=(()=>{class n{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===R);return r}getResolvedTitleForRoute(e){return e.data[xn]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:()=>P(Xc),providedIn:"root"})}return n})(),Xc=(()=>{class n extends Do{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(M(mc))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rt=new K("",{providedIn:"root",factory:()=>({})}),No=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=$({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&w(0,"router-outlet")},dependencies:[Nn],encapsulation:2})}return n})();function Lo(n){let t=n.children&&n.children.map(Lo),e=t?G(b({},n),{children:t}):b({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==R&&(e.component=No),e}var en=new K(""),Kr=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(Ls);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return E(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=ft(e.loadComponent()).pipe(N(el),X(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),nr(()=>{this.componentLoaders.delete(e)})),i=new Bi(r,()=>new Fe).pipe(zi());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return E({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Qc(r,this.compiler,e,this.onLoadEndListener).pipe(nr(()=>{this.childrenLoaders.delete(r)})),a=new Bi(o,()=>new Fe).pipe(zi());return this.childrenLoaders.set(r,a),a}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qc(n,t,e,r){return ft(n.loadChildren()).pipe(N(el),ie(i=>i instanceof _s||Array.isArray(i)?E(i):te(t.compileModuleAsync(i))),N(i=>{r&&r(n);let o,a,s=!1;return Array.isArray(i)?(a=i,s=!0):(o=i.create(e).injector,a=o.get(en,[],{optional:!0,self:!0}).flat()),{routes:a.map(Lo),injector:o}}))}function Ch(n){return n&&typeof n=="object"&&"default"in n}function el(n){return Ch(n)?n.default:n}var Yr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:()=>P(wh),providedIn:"root"})}return n})(),wh=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Uo=new K(""),Fo=new K("");function tl(n,t,e){let r=n.get(Fo),i=n.get(ce);return n.get(Ie).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,a=new Promise(u=>{o=u}),s=i.startViewTransition(()=>(o(),Ih(n))),{onViewTransitionCreated:c}=r;return c&&we(n,()=>c({transition:s,from:t,to:e})),a})}function Ih(n){return new Promise(t=>{ps({read:()=>setTimeout(t)},{injector:n})})}var Vo=new K(""),Jr=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Fe;transitionAbortSubject=new Fe;configLoader=P(Kr);environmentInjector=P(Lt);destroyRef=P(as);urlSerializer=P(Pt);rootContexts=P(Ot);location=P(Vt);inputBindingEnabled=P(Ln,{optional:!0})!==null;titleStrategy=P(Do);options=P(Rt,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(Yr);createViewTransition=P(Uo,{optional:!0});navigationErrorHandler=P(Vo,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>E(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new Nr(i)),r=i=>this.events.next(new Lr(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(G(b({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(e){return this.transitions=new re(null),this.transitions.pipe(Xe(r=>r!==null),ve(r=>{let i=!1,o=!1;return E(r).pipe(ve(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",se.SupersededByNewNavigation),Ve;this.currentTransition=r,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?G(b({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let s=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=a.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!s&&c!=="reload"){let u="";return this.events.next(new Ae(a.id,this.urlSerializer.serialize(a.rawUrl),u,Gt.IgnoredSameUrlNavigation)),a.resolve(!1),Ve}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return E(a).pipe(ve(u=>(this.events.next(new pt(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Ve:Promise.resolve(u))),gh(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),X(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=G(b({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let m=new Tn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(m)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:u,extractedUrl:m,source:I,restoredState:v,extras:x}=a,L=new pt(u,this.urlSerializer.serialize(m),I,v);this.events.next(L);let ne=jc(this.rootComponentType).snapshot;return this.currentTransition=r=G(b({},a),{targetSnapshot:ne,urlAfterRedirects:m,extras:G(b({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,E(r)}else{let u="";return this.events.next(new Ae(a.id,this.urlSerializer.serialize(a.extractedUrl),u,Gt.IgnoredByUrlHandlingStrategy)),a.resolve(!1),Ve}}),X(a=>{let s=new Ar(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),N(a=>(this.currentTransition=r=G(b({},a),{guards:Lu(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r)),Gu(this.environmentInjector,a=>this.events.next(a)),X(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw $r(this.urlSerializer,a.guardsResult);let s=new kr(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(s)}),Xe(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",se.GuardRejected),!1)),vo(a=>{if(a.guards.canActivateChecks.length!==0)return E(a).pipe(X(s=>{let c=new xr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),ve(s=>{let c=!1;return E(s).pipe(vh(this.paramsInheritanceStrategy,this.environmentInjector),X({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(s,"",se.NoDataFromResolver)}}))}),X(s=>{let c=new Dr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}))}),vo(a=>{let s=c=>{let u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(X(m=>{c.component=m}),N(()=>{})));for(let m of c.children)u.push(...s(m));return u};return tr(s(a.targetSnapshot.root)).pipe(Wi(null),ge(1))}),vo(()=>this.afterPreactivation()),ve(()=>{let{currentSnapshot:a,targetSnapshot:s}=r,c=this.createViewTransition?.(this.environmentInjector,a.root,s.root);return c?te(c).pipe(N(()=>r)):E(r)}),N(a=>{let s=Au(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=r=G(b({},a),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),X(()=>{this.events.next(new Pn)}),Nu(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),ge(1),X({next:a=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ue(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{i=!0}}),ts(this.transitionAbortSubject.pipe(X(a=>{throw a}))),nr(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",se.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ct(a=>{if(this.destroyed)return r.resolve(!1),Ve;if(o=!0,qc(a))this.events.next(new Re(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),Du(a)?this.events.next(new Jt(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Kt(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let c=we(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(c instanceof Zt){let{message:u,cancellationCode:m}=$r(this.urlSerializer,c);this.events.next(new Re(r.id,this.urlSerializer.serialize(r.extractedUrl),u,m)),this.events.next(new Jt(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(s),a}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Ve}))}))}cancelNavigationTransition(e,r,i){let o=new Re(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sh(n){return n!==Or}var nl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:()=>P(Eh),providedIn:"root"})}return n})(),qr=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},Eh=(()=>{class n extends qr{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Ki(n)))(i||n)}})();static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rl=(()=>{class n{urlSerializer=P(Pt);options=P(Rt,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(Vt);urlHandlingStrategy=P(Yr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Me;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:i}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,a=i??o;return a instanceof Me?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:i}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=e):this.rawUrlTree=i}routerState=jc(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:()=>P(Th),providedIn:"root"})}return n})(),Th=(()=>{class n extends rl{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof pt?this.updateStateMemento():e instanceof Ae?this.commitTransition(r):e instanceof Tn?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Pn?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Re&&(e.code===se.GuardRejected||e.code===se.NoDataFromResolver)?this.restoreHistory(r):e instanceof Kt?this.restoreHistory(r,!0):e instanceof ue&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:i}){let{replaceUrl:o,state:a}=r;if(this.location.isCurrentPathEqualTo(e)||o){let s=this.browserPageId,c=b(b({},a),this.generateNgRouterState(i,s));this.location.replaceState(e,"",c)}else{let s=b(b({},a),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",s)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Ki(n)))(i||n)}})();static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zr(n,t){n.events.pipe(Xe(e=>e instanceof ue||e instanceof Re||e instanceof Kt||e instanceof Ae),N(e=>e instanceof ue||e instanceof Ae?0:(e instanceof Re?e.code===se.Redirect||e.code===se.SupersededByNewNavigation:!1)?2:1),Xe(e=>e!==2),ge(1)).subscribe(()=>{t()})}var Ph={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Oh={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},H=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(bs);stateManager=P(rl);options=P(Rt,{optional:!0})||{};pendingTasks=P(ss);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(Jr);urlSerializer=P(Pt);location=P(Vt);urlHandlingStrategy=P(Yr);_events=new Fe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(nl);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(en,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(Ln,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Wa;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Re&&r.code!==se.Redirect&&r.code!==se.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ue)this.navigated=!0;else if(r instanceof Jt){let a=r.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=b({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Sh(i.source)},a);this.scheduleNavigation(s,Or,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Mh(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Or,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,i)=>{this.navigateToSyncWithBrowser(e,i,r)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let c=b({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let s=this.parseUrl(e);this.scheduleNavigation(s,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Lo),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:a,m=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":m=b(b({},this.currentUrlTree.queryParams),o);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=o||null}m!==null&&(m=this.removeEmptyProps(m));let I;try{let v=i?i.snapshot:this.routerState.snapshot.root;I=Lc(v)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),I=this.currentUrlTree.root}return Uc(I,e,m,u??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=ht(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Or,null,r)}navigate(e,r={skipLocationChange:!1}){return Rh(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=b({},Ph):r===!1?i=b({},Oh):i=r,ht(e))return vc(this.currentUrlTree,e,i);let o=this.parseUrl(e);return vc(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let s,c,u;a?(s=a.resolve,c=a.reject,u=a.promise):u=new Promise((I,v)=>{s=I,c=v});let m=this.pendingTasks.add();return Zr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:s,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(I=>Promise.reject(I))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rh(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new B(4008,!1)}function Mh(n){return!(n instanceof Pn)&&!(n instanceof Jt)}var me=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Fe;constructor(e,r,i,o,a,s){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=a,this.locationStrategy=s;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=e.events.subscribe(u=>{u instanceof ue&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ht(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,o,a){let s=this.urlTree;if(s===null||this.isAnchorElement&&(e!==0||r||i||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:fs(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:ht(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(k(H),k(ze),os("tabindex"),k(Qi),k(Ji),k(gn))};static \u0275dir=mn({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&S("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&sr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",hr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",hr],replaceUrl:[2,"replaceUrl","replaceUrl",hr],routerLink:"routerLink"},features:[un]})}return n})(),Ho=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new It;constructor(e,r,i,o,a){this.router=e,this.element=r,this.renderer=i,this.cdr=o,this.link=a,this.routerEventsSubscription=e.events.subscribe(s=>{s instanceof ue&&this.update()})}ngAfterContentInit(){E(this.links.changes,E(null)).pipe(dn()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=te(e).pipe(dn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){let r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let r=Ah(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?e.isActive(o,r):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(r){return new(r||n)(k(H),k(Ji),k(Qi),k(ur),k(me,8))};static \u0275dir=mn({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Os(o,me,5),r&2){let a;Rs(a=Ms())&&(i.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[un]})}return n})();function Ah(n){return!!n.paths}var Fn=class{};var il=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,i,o){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Xe(e=>e instanceof ue),wt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ir(o.providers,e,`Route: ${o.path}`));let a=o._injector??e,s=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(s,o.children??o._loadedRoutes))}return te(i).pipe(dn())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(e,r):i=E(null);let o=i.pipe(ie(a=>a===null?E(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return te([o,a]).pipe(dn())}else return o})}static \u0275fac=function(r){return new(r||n)(M(H),M(Lt),M(Fn),M(Kr))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ol=new K(""),kh=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,r,i,o,a={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=a,a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof pt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ue?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Ae&&e.code===Gt.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Yt&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Yt(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){gs()};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})();function xh(n){return n.routerState.root}function Vn(n,t){return{\u0275kind:n,\u0275providers:t}}function Dh(){let n=P(rr);return t=>{let e=n.get(Is);if(t!==e.components[0])return;let r=n.get(H),i=n.get(al);n.get(zo)===1&&r.initialNavigation(),n.get(ll,null,Gi.Optional)?.setUpPreloading(),n.get(ol,null,Gi.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var al=new K("",{factory:()=>new Fe}),zo=new K("",{providedIn:"root",factory:()=>1});function sl(){let n=[{provide:zo,useValue:0},to(()=>{let t=P(rr);return t.get(Bs,Promise.resolve()).then(()=>new Promise(r=>{let i=t.get(H),o=t.get(al);Zr(i,()=>{r(!0)}),t.get(Jr).afterPreactivation=()=>(r(!0),o.closed?E(void 0):o),i.initialNavigation()}))})];return Vn(2,n)}function cl(){let n=[to(()=>{P(H).setUpLocationChangeListener()}),{provide:zo,useValue:2}];return Vn(3,n)}var ll=new K("");function dl(n){return Vn(0,[{provide:ll,useExisting:il},{provide:Fn,useExisting:n}])}function ul(){return Vn(8,[xo,{provide:Ln,useExisting:xo}])}function hl(n){hs("NgRouterViewTransitions");let t=[{provide:Uo,useValue:tl},{provide:Fo,useValue:b({skipNextTransition:!!n?.skipInitialTransition},n)}];return Vn(9,t)}var pl=[Vt,{provide:Pt,useClass:ut},H,Ot,{provide:ze,useFactory:xh,deps:[H]},Kr,[]],Xr=(()=>{class n{constructor(){}static forRoot(e,r){return{ngModule:n,providers:[pl,[],{provide:en,multi:!0,useValue:e},[],r?.errorHandler?{provide:Vo,useValue:r.errorHandler}:[],{provide:Rt,useValue:r||{}},r?.useHash?Lh():Uh(),Nh(),r?.preloadingStrategy?dl(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Fh(r):[],r?.bindToComponentInputs?ul().\u0275providers:[],r?.enableViewTransitions?hl().\u0275providers:[],Vh()]}}static forChild(e){return{ngModule:n,providers:[{provide:en,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=He({type:n});static \u0275inj=je({})}return n})();function Nh(){return{provide:ol,useFactory:()=>{let n=P(Xs),t=P(Ie),e=P(Rt),r=P(Jr),i=P(Pt);return e.scrollOffset&&n.setOffset(e.scrollOffset),new kh(i,r,n,t,e)}}}function Lh(){return{provide:gn,useClass:Ws}}function Uh(){return{provide:gn,useClass:$s}}function Fh(n){return[n.initialNavigation==="disabled"?cl().\u0275providers:[],n.initialNavigation==="enabledBlocking"?sl().\u0275providers:[]]}var jo=new K("");function Vh(){return[{provide:jo,useFactory:Dh},{provide:ws,multi:!0,useExisting:jo}]}var fl=()=>{};var vl=function(n){let t=[],e=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=i&63|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=i&63|128)}return t},jh=function(n){let t=[],e=0,r=0;for(;e<n.length;){let i=n[e++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[e++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[e++],a=n[e++],s=n[e++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[e++],a=n[e++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return t.join("")},_l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],a=i+1<n.length,s=a?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,m=o>>2,I=(o&3)<<4|s>>4,v=(s&15)<<2|u>>6,x=u&63;c||(x=64,a||(v=64)),r.push(e[m],e[I],e[v],e[x])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(vl(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):jh(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();let e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=e[n.charAt(i++)],s=i<n.length?e[n.charAt(i)]:0;++i;let u=i<n.length?e[n.charAt(i)]:64;++i;let I=i<n.length?e[n.charAt(i)]:64;if(++i,o==null||s==null||u==null||I==null)throw new $o;let v=o<<2|s>>4;if(r.push(v),u!==64){let x=s<<4&240|u>>2;if(r.push(x),I!==64){let L=u<<6&192|I;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},$o=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Hh=function(n){let t=vl(n);return _l.encodeByteArray(t,!0)},qo=function(n){return Hh(n).replace(/\./g,"")},ei=function(n){try{return _l.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function zh(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Bh=()=>zh().__FIREBASE_DEFAULTS__,$h=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Wh=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=n&&ei(n[1]);return t&&JSON.parse(t)},Go=()=>{try{return fl()||Bh()||$h()||Wh()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},bl=n=>{var t,e;return(e=(t=Go())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]};var Ko=()=>{var n;return(n=Go())===null||n===void 0?void 0:n.config},Yo=n=>{var t;return(t=Go())===null||t===void 0?void 0:t[`_${n}`]};var Qr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}};function Hn(n){return n.endsWith(".cloudworkstations.dev")}function yl(n){return f(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}var jn={};function qh(){let n={prod:[],emulator:[]};for(let t of Object.keys(jn))jn[t]?n.emulator.push(t):n.prod.push(t);return n}function Gh(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}var ml=!1;function Cl(n,t){if(typeof window>"u"||typeof document>"u"||!Hn(window.location.host)||jn[n]===t||jn[n]||ml)return;jn[n]=t;function e(v){return`__firebase__banner__${v}`}let r="__firebase__banner",o=qh().prod.length>0;function a(){let v=document.getElementById(r);v&&v.remove()}function s(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,x){v.setAttribute("width","24"),v.setAttribute("id",x),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function u(){let v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{ml=!0,a()},v}function m(v,x){v.setAttribute("id",x),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function I(){let v=Gh(r),x=e("text"),L=document.getElementById(x)||document.createElement("span"),ne=e("learnmore"),Z=document.getElementById(ne)||document.createElement("a"),Le=e("preprendIcon"),Ue=document.getElementById(Le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){let he=v.element;s(he),m(Z,ne);let Qn=u();c(Ue,Le),he.append(Ue,L,Z,Qn),document.body.appendChild(he)}o?(L.innerText="Preview backend disconnected.",Ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}function ee(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wl(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ee())}function Il(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Sl(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function El(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tl(){let n=ee();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Pl(){try{return typeof indexedDB=="object"}catch{return!1}}function Ol(){return new Promise((n,t)=>{try{let e=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}var Kh="FirebaseError",be=class n extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=Kh,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$e.prototype.create)}},$e=class{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){let r=e[0]||{},i=`${this.service}/${t}`,o=this.errors[t],a=o?Yh(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new be(i,s,r)}};function Yh(n,t){return n.replace(Jh,(e,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var Jh=/\{\$([^}]+)}/g;function Rl(n){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function mt(n,t){if(n===t)return!0;let e=Object.keys(n),r=Object.keys(t);for(let i of e){if(!r.includes(i))return!1;let o=n[i],a=t[i];if(gl(o)&&gl(a)){if(!mt(o,a))return!1}else if(o!==a)return!1}for(let i of r)if(!e.includes(i))return!1;return!0}function gl(n){return n!==null&&typeof n=="object"}function tn(n){let t=[];for(let[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ml(n,t){let e=new Wo(n,t);return e.subscribe.bind(e)}var Wo=class{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let i;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");Zh(t,["next","error","complete"])?i=t:i={next:t,error:e,complete:r},i.next===void 0&&(i.next=Bo),i.error===void 0&&(i.error=Bo),i.complete===void 0&&(i.complete=Bo);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Zh(n,t){if(typeof n!="object"||n===null)return!1;for(let e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Bo(){}var g0=4*60*60*1e3;function We(n){return n&&n._delegate?n._delegate:n}var ke=class{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var At="[DEFAULT]";var Jo=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){let r=new Qr;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:e});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;let r=this.normalizeInstanceIdentifier(t?.identifier),i=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Qh(t))try{this.getOrInitializeService({instanceIdentifier:At})}catch{}for(let[e,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(e);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=At){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return f(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=At){return this.instances.has(t)}getOptions(t=At){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:e});for(let[o,a]of this.instancesDeferred.entries()){let s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(t,e){var r;let i=this.normalizeInstanceIdentifier(e),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);let a=this.instances.get(i);return a&&t(a,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){let r=this.onInitCallbacks.get(e);if(r)for(let i of r)try{i(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Xh(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=At){return this.component?this.component.multipleInstances?t:At:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Xh(n){return n===At?void 0:n}function Qh(n){return n.instantiationMode==="EAGER"}var ti=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let e=new Jo(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}};var ep=[],j=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(j||{}),tp={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},np=j.INFO,rp={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},ip=(n,t,...e)=>{if(t<n.logLevel)return;let r=new Date().toISOString(),i=rp[t];if(i)console[i](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},nn=class{constructor(t){this.name=t,this._logLevel=np,this._logHandler=ip,this._userLogHandler=null,ep.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in j))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tp[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...t),this._logHandler(this,j.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...t),this._logHandler(this,j.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,j.INFO,...t),this._logHandler(this,j.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,j.WARN,...t),this._logHandler(this,j.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...t),this._logHandler(this,j.ERROR,...t)}};var op=(n,t)=>t.some(e=>n instanceof e),Al,kl;function ap(){return Al||(Al=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sp(){return kl||(kl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var xl=new WeakMap,Xo=new WeakMap,Dl=new WeakMap,Zo=new WeakMap,ea=new WeakMap;function cp(n){let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",a)},o=()=>{e(xe(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",a)});return t.then(e=>{e instanceof IDBCursor&&xl.set(e,n)}).catch(()=>{}),ea.set(t,n),t}function lp(n){if(Xo.has(n))return;let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",a),n.removeEventListener("abort",a)},o=()=>{e(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",a),n.addEventListener("abort",a)});Xo.set(n,t)}var Qo={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Xo.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Dl.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return xe(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function Nl(n){Qo=n(Qo)}function dp(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){let r=n.call(ni(this),t,...e);return Dl.set(r,t.sort?t.sort():[t]),xe(r)}:sp().includes(n)?function(...t){return n.apply(ni(this),t),xe(xl.get(this))}:function(...t){return xe(n.apply(ni(this),t))}}function up(n){return typeof n=="function"?dp(n):(n instanceof IDBTransaction&&lp(n),op(n,ap())?new Proxy(n,Qo):n)}function xe(n){if(n instanceof IDBRequest)return cp(n);if(Zo.has(n))return Zo.get(n);let t=up(n);return t!==n&&(Zo.set(n,t),ea.set(t,n)),t}var ni=n=>ea.get(n);function Ul(n,t,{blocked:e,upgrade:r,blocking:i,terminated:o}={}){let a=indexedDB.open(n,t),s=xe(a);return r&&a.addEventListener("upgradeneeded",c=>{r(xe(a.result),c.oldVersion,c.newVersion,xe(a.transaction),c)}),e&&a.addEventListener("blocked",c=>e(c.oldVersion,c.newVersion,c)),s.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}var hp=["get","getKey","getAll","getAllKeys","count"],pp=["put","add","delete","clear"],ta=new Map;function Ll(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(ta.get(t))return ta.get(t);let e=t.replace(/FromIndex$/,""),r=t!==e,i=pp.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hp.includes(e)))return;let o=function(a,...s){return f(this,null,function*(){let c=this.transaction(a,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(s.shift())),(yield Promise.all([u[e](...s),i&&c.done]))[0]})};return ta.set(t,o),o}Nl(n=>G(b({},n),{get:(t,e,r)=>Ll(t,e)||n.get(t,e,r),has:(t,e)=>!!Ll(t,e)||n.has(t,e)}));var ra=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(fp(e)){let r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}};function fp(n){let t=n.getComponent();return t?.type==="VERSION"}var ia="@firebase/app",Fl="0.13.1";var qe=new nn("@firebase/app"),mp="@firebase/app-compat",gp="@firebase/analytics-compat",vp="@firebase/analytics",_p="@firebase/app-check-compat",bp="@firebase/app-check",yp="@firebase/auth",Cp="@firebase/auth-compat",wp="@firebase/database",Ip="@firebase/data-connect",Sp="@firebase/database-compat",Ep="@firebase/functions",Tp="@firebase/functions-compat",Pp="@firebase/installations",Op="@firebase/installations-compat",Rp="@firebase/messaging",Mp="@firebase/messaging-compat",Ap="@firebase/performance",kp="@firebase/performance-compat",xp="@firebase/remote-config",Dp="@firebase/remote-config-compat",Np="@firebase/storage",Lp="@firebase/storage-compat",Up="@firebase/firestore",Fp="@firebase/ai",Vp="@firebase/firestore-compat",jp="firebase",Hp="11.9.0";var oa="[DEFAULT]",zp={[ia]:"fire-core",[mp]:"fire-core-compat",[vp]:"fire-analytics",[gp]:"fire-analytics-compat",[bp]:"fire-app-check",[_p]:"fire-app-check-compat",[yp]:"fire-auth",[Cp]:"fire-auth-compat",[wp]:"fire-rtdb",[Ip]:"fire-data-connect",[Sp]:"fire-rtdb-compat",[Ep]:"fire-fn",[Tp]:"fire-fn-compat",[Pp]:"fire-iid",[Op]:"fire-iid-compat",[Rp]:"fire-fcm",[Mp]:"fire-fcm-compat",[Ap]:"fire-perf",[kp]:"fire-perf-compat",[xp]:"fire-rc",[Dp]:"fire-rc-compat",[Np]:"fire-gcs",[Lp]:"fire-gcs-compat",[Up]:"fire-fst",[Vp]:"fire-fst-compat",[Fp]:"fire-vertex","fire-js":"fire-js",[jp]:"fire-js-all"};var ri=new Map,Bp=new Map,aa=new Map;function Vl(n,t){try{n.container.addComponent(t)}catch(e){qe.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function rn(n){let t=n.name;if(aa.has(t))return qe.debug(`There were multiple attempts to register component ${t}.`),!1;aa.set(t,n);for(let e of ri.values())Vl(e,n);for(let e of Bp.values())Vl(e,n);return!0}function da(n,t){let e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ye(n){return n==null?!1:n.settings!==void 0}var $p={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gt=new $e("app","Firebase",$p);var sa=class{constructor(t,e,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ke("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw gt.create("app-deleted",{appName:this._name})}};var on=Hp;function ua(n,t={}){let e=n;typeof t!="object"&&(t={name:t});let r=Object.assign({name:oa,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!="string"||!i)throw gt.create("bad-app-name",{appName:String(i)});if(e||(e=Ko()),!e)throw gt.create("no-options");let o=ri.get(i);if(o){if(mt(e,o.options)&&mt(r,o.config))return o;throw gt.create("duplicate-app",{appName:i})}let a=new ti(i);for(let c of aa.values())a.addComponent(c);let s=new sa(e,r,a);return ri.set(i,s),s}function Bl(n=oa){let t=ri.get(n);if(!t&&n===oa&&Ko())return ua();if(!t)throw gt.create("no-app",{appName:n});return t}function vt(n,t,e){var r;let i=(r=zp[n])!==null&&r!==void 0?r:n;e&&(i+=`-${e}`);let o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){let s=[`Unable to register library "${i}" with version "${t}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qe.warn(s.join(" "));return}rn(new ke(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}var Wp="firebase-heartbeat-database",qp=1,zn="firebase-heartbeat-store",na=null;function $l(){return na||(na=Ul(Wp,qp,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(zn)}catch(e){console.warn(e)}}}}).catch(n=>{throw gt.create("idb-open",{originalErrorMessage:n.message})})),na}function Gp(n){return f(this,null,function*(){try{let e=(yield $l()).transaction(zn),r=yield e.objectStore(zn).get(Wl(n));return yield e.done,r}catch(t){if(t instanceof be)qe.warn(t.message);else{let e=gt.create("idb-get",{originalErrorMessage:t?.message});qe.warn(e.message)}}})}function jl(n,t){return f(this,null,function*(){try{let r=(yield $l()).transaction(zn,"readwrite");yield r.objectStore(zn).put(t,Wl(n)),yield r.done}catch(e){if(e instanceof be)qe.warn(e.message);else{let r=gt.create("idb-set",{originalErrorMessage:e?.message});qe.warn(r.message)}}})}function Wl(n){return`${n.name}!${n.options.appId}`}var Kp=1024,Yp=30,ca=class{constructor(t){this.container=t,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new la(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return f(this,null,function*(){var t,e;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Hl();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Yp){let a=Zp(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qe.warn(r)}})}getHeartbeatsHeader(){return f(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=Hl(),{heartbeatsToSend:r,unsentEntries:i}=Jp(this._heartbeatsCache.heartbeats),o=qo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return qe.warn(e),""}})}};function Hl(){return new Date().toISOString().substring(0,10)}function Jp(n,t=Kp){let e=[],r=n.slice();for(let i of n){let o=e.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),zl(e)>t){o.dates.pop();break}}else if(e.push({agent:i.agent,dates:[i.date]}),zl(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}var la=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return f(this,null,function*(){return Pl()?Ol().then(()=>!0).catch(()=>!1):!1})}read(){return f(this,null,function*(){if(yield this._canUseIndexedDBPromise){let e=yield Gp(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return f(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return jl(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return f(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return jl(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return})}};function zl(n){return qo(JSON.stringify({version:2,heartbeats:n})).length}function Zp(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}function Xp(n){rn(new ke("platform-logger",t=>new ra(t),"PRIVATE")),rn(new ke("heartbeat",t=>new ca(t),"PRIVATE")),vt(ia,Fl,n),vt(ia,Fl,"esm2017"),vt("fire-js","")}Xp("");function ad(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var sd=ad,cd=new $e("auth","Firebase",ad());var li=new nn("@firebase/auth");function Qp(n,...t){li.logLevel<=j.WARN&&li.warn(`Auth (${on}): ${n}`,...t)}function oi(n,...t){li.logLevel<=j.ERROR&&li.error(`Auth (${on}): ${n}`,...t)}function Ne(n,...t){throw Ra(n,...t)}function Ce(n,...t){return Ra(n,...t)}function Oa(n,t,e){let r=Object.assign(Object.assign({},sd()),{[t]:e});return new $e("auth","Firebase",r).create(t,{appName:n.name})}function kt(n){return Oa(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ef(n,t,e){let r=e;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ne(n,"argument-error"),Oa(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ra(n,...t){if(typeof n!="string"){let e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return cd.create(n,...t)}function T(n,t,...e){if(!n)throw Ra(t,...e)}function Ge(n){let t="INTERNAL ASSERTION FAILED: "+n;throw oi(t),new Error(t)}function Ye(n,t){n||Ge(t)}function fa(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function tf(){return ql()==="http:"||ql()==="https:"}function ql(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function nf(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tf()||Sl()||"connection"in navigator)?navigator.onLine:!0}function rf(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var xt=class{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ye(e>t,"Short delay should be less than long delay!"),this.isMobile=wl()||El()}get(){return nf()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ma(n,t){Ye(n.emulator,"Emulator should always be set here");let{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}var di=class{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var of={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var af=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sf=new xt(3e4,6e4);function Aa(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function sn(o,a,s,c){return f(this,arguments,function*(n,t,e,r,i={}){return ld(n,i,()=>f(null,null,function*(){let u={},m={};r&&(t==="GET"?m=r:u={body:JSON.stringify(r)});let I=tn(Object.assign({key:n.config.apiKey},m)).slice(1),v=yield n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);let x=Object.assign({method:t,headers:v},u);return Il()||(x.referrerPolicy="no-referrer"),n.emulatorConfig&&Hn(n.emulatorConfig.host)&&(x.credentials="include"),di.fetch()(yield dd(n,n.config.apiHost,e,I),x)}))})}function ld(n,t,e){return f(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},of),t);try{let i=new ma(n),o=yield Promise.race([e(),i.promise]);i.clearNetworkTimeout();let a=yield o.json();if("needConfirmation"in a)throw ii(n,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{let s=o.ok?a.errorMessage:a.error.message,[c,u]=s.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ii(n,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw ii(n,"email-already-in-use",a);if(c==="USER_DISABLED")throw ii(n,"user-disabled",a);let m=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Oa(n,m,u);Ne(n,m)}}catch(i){if(i instanceof be)throw i;Ne(n,"network-request-failed",{message:String(i)})}})}function cf(o,a,s,c){return f(this,arguments,function*(n,t,e,r,i={}){let u=yield sn(n,t,e,r,i);return"mfaPendingCredential"in u&&Ne(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function dd(n,t,e,r){return f(this,null,function*(){let i=`${t}${e}?${r}`,o=n,a=o.config.emulator?Ma(n.config,i):`${n.config.apiScheme}://${i}`;return af.includes(e)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a})}var ma=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Ce(this.auth,"network-request-failed")),sf.get())})}};function ii(n,t,e){let r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);let i=Ce(n,t,r);return i.customData._tokenResponse=e,i}function lf(n,t){return f(this,null,function*(){return sn(n,"POST","/v1/accounts:delete",t)})}function ui(n,t){return f(this,null,function*(){return sn(n,"POST","/v1/accounts:lookup",t)})}function Bn(n){if(n)try{let t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function ud(n,t=!1){return f(this,null,function*(){let e=We(n),r=yield e.getIdToken(t),i=ka(r);T(i&&i.exp&&i.auth_time&&i.iat,e.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,a=o?.sign_in_provider;return{claims:i,token:r,authTime:Bn(ha(i.auth_time)),issuedAtTime:Bn(ha(i.iat)),expirationTime:Bn(ha(i.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function ha(n){return Number(n)*1e3}function ka(n){let[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return oi("JWT malformed, contained fewer than 3 sections"),null;try{let i=ei(e);return i?JSON.parse(i):(oi("Failed to decode base64 JWT payload"),null)}catch(i){return oi("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Gl(n){let t=ka(n);return T(t,"internal-error"),T(typeof t.exp<"u","internal-error"),T(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Wn(n,t,e=!1){return f(this,null,function*(){if(e)return t;try{return yield t}catch(r){throw r instanceof be&&df(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function df({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var ga=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;let e=this.getInterval(t);this.timerId=setTimeout(()=>f(this,null,function*(){yield this.iteration()}),e)}iteration(){return f(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var qn=class{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bn(this.lastLoginAt),this.creationTime=Bn(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function hi(n){return f(this,null,function*(){var t;let e=n.auth,r=yield n.getIdToken(),i=yield Wn(n,ui(e,{idToken:r}));T(i?.users.length,e,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let a=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?pd(o.providerUserInfo):[],s=uf(n.providerData,a),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!s?.length,m=c?u:!1,I={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new qn(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,I)})}function hd(n){return f(this,null,function*(){let t=We(n);yield hi(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function uf(n,t){return[...n.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function pd(n){return n.map(t=>{var{providerId:e}=t,r=er(t,["providerId"]);return{providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function hf(n,t){return f(this,null,function*(){let e=yield ld(n,{},()=>f(null,null,function*(){let r=tn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,a=yield dd(n,i,"/v1/token",`key=${o}`),s=yield n._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:s,body:r};return n.emulatorConfig&&Hn(n.emulatorConfig.host)&&(c.credentials="include"),di.fetch()(a,c)}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})}function pf(n,t){return f(this,null,function*(){return sn(n,"POST","/v2/accounts:revokeToken",Aa(n,t))})}var $n=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){T(t.idToken,"internal-error"),T(typeof t.idToken<"u","internal-error"),T(typeof t.refreshToken<"u","internal-error");let e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Gl(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){T(t.length!==0,"internal-error");let e=Gl(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){return f(this,null,function*(){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(T(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,e){return f(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield hf(t,e);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){let{refreshToken:r,accessToken:i,expirationTime:o}=e,a=new n;return r&&(T(typeof r=="string","internal-error",{appName:t}),a.refreshToken=r),i&&(T(typeof i=="string","internal-error",{appName:t}),a.accessToken=i),o&&(T(typeof o=="number","internal-error",{appName:t}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ge("not implemented")}};function _t(n,t){T(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}var bt=class n{constructor(t){var{uid:e,auth:r,stsTokenManager:i}=t,o=er(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ga(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new qn(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return f(this,null,function*(){let e=yield Wn(this,this.stsTokenManager.getToken(this.auth,t));return T(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e})}getIdTokenResult(t){return ud(this,t)}reload(){return hd(this)}_assign(t){this!==t&&(T(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let e=new n(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){T(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){return f(this,null,function*(){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&(yield hi(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return f(this,null,function*(){if(ye(this.auth.app))return Promise.reject(kt(this.auth));let t=yield this.getIdToken();return yield Wn(this,lf(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var r,i,o,a,s,c,u,m;let I=(r=e.displayName)!==null&&r!==void 0?r:void 0,v=(i=e.email)!==null&&i!==void 0?i:void 0,x=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,L=(a=e.photoURL)!==null&&a!==void 0?a:void 0,ne=(s=e.tenantId)!==null&&s!==void 0?s:void 0,Z=(c=e._redirectEventId)!==null&&c!==void 0?c:void 0,Le=(u=e.createdAt)!==null&&u!==void 0?u:void 0,Ue=(m=e.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:he,emailVerified:Qn,isAnonymous:Ba,providerData:ji,stsTokenManager:$a}=e;T(he&&$a,t,"internal-error");let Fd=$n.fromJSON(this.name,$a);T(typeof he=="string",t,"internal-error"),_t(I,t.name),_t(v,t.name),T(typeof Qn=="boolean",t,"internal-error"),T(typeof Ba=="boolean",t,"internal-error"),_t(x,t.name),_t(L,t.name),_t(ne,t.name),_t(Z,t.name),_t(Le,t.name),_t(Ue,t.name);let Hi=new n({uid:he,auth:t,email:v,emailVerified:Qn,displayName:I,isAnonymous:Ba,photoURL:L,phoneNumber:x,tenantId:ne,stsTokenManager:Fd,createdAt:Le,lastLoginAt:Ue});return ji&&Array.isArray(ji)&&(Hi.providerData=ji.map(Vd=>Object.assign({},Vd))),Z&&(Hi._redirectEventId=Z),Hi}static _fromIdTokenResponse(t,e,r=!1){return f(this,null,function*(){let i=new $n;i.updateFromServerResponse(e);let o=new n({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield hi(o),o})}static _fromGetAccountInfoResponse(t,e,r){return f(this,null,function*(){let i=e.users[0];T(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?pd(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!o?.length,s=new $n;s.updateFromIdToken(r);let c=new n({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new qn(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var Kl=new Map;function Ke(n){Ye(n instanceof Function,"Expected a class definition");let t=Kl.get(n);return t?(Ye(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Kl.set(n,t),t)}var ff=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return f(this,null,function*(){return!0})}_set(e,r){return f(this,null,function*(){this.storage[e]=r})}_get(e){return f(this,null,function*(){let r=this.storage[e];return r===void 0?null:r})}_remove(e){return f(this,null,function*(){delete this.storage[e]})}_addListener(e,r){}_removeListener(e,r){}}return n.type="NONE",n})(),va=ff;function ai(n,t,e){return`firebase:${n}:${t}:${e}`}var pi=class n{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=ai(this.userKey,i.apiKey,o),this.fullPersistenceKey=ai("persistence",i.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return f(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let e=yield ui(this.auth,{idToken:t}).catch(()=>{});return e?bt._fromGetAccountInfoResponse(this.auth,e,t):null}return bt._fromJSON(this.auth,t)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return f(this,null,function*(){if(this.persistence===t)return;let e=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,r="authUser"){return f(this,null,function*(){if(!e.length)return new n(Ke(va),t,r);let i=(yield Promise.all(e.map(u=>f(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||Ke(va),a=ai(r,t.config.apiKey,t.name),s=null;for(let u of e)try{let m=yield u._get(a);if(m){let I;if(typeof m=="string"){let v=yield ui(t,{idToken:m}).catch(()=>{});if(!v)break;I=yield bt._fromGetAccountInfoResponse(t,v,m)}else I=bt._fromJSON(t,m);u!==o&&(s=I),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,t,r):(o=c[0],s&&(yield o._set(a,s.toJSON())),yield Promise.all(e.map(u=>f(null,null,function*(){if(u!==o)try{yield u._remove(a)}catch{}}))),new n(o,t,r))})}};function Yl(n){let t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vd(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fd(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bd(t))return"Blackberry";if(yd(t))return"Webos";if(md(t))return"Safari";if((t.includes("chrome/")||gd(t))&&!t.includes("edge/"))return"Chrome";if(_d(t))return"Android";{let e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function fd(n=ee()){return/firefox\//i.test(n)}function md(n=ee()){let t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gd(n=ee()){return/crios\//i.test(n)}function vd(n=ee()){return/iemobile/i.test(n)}function _d(n=ee()){return/android/i.test(n)}function bd(n=ee()){return/blackberry/i.test(n)}function yd(n=ee()){return/webos/i.test(n)}function xa(n=ee()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function mf(n=ee()){var t;return xa(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function gf(){return Tl()&&document.documentMode===10}function Cd(n=ee()){return xa(n)||_d(n)||yd(n)||bd(n)||/windows phone/i.test(n)||vd(n)}function wd(n,t=[]){let e;switch(n){case"Browser":e=Yl(ee());break;case"Worker":e=`${Yl(ee())}-${n}`;break;default:e=n}let r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${on}/${r}`}var _a=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){let r=o=>new Promise((a,s)=>{try{let c=t(o);a(c)}catch(c){s(c)}});r.onAbort=e,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){return f(this,null,function*(){if(this.auth.currentUser===t)return;let e=[];try{for(let r of this.queue)yield r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(let i of e)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function vf(e){return f(this,arguments,function*(n,t={}){return sn(n,"GET","/v2/passwordPolicy",Aa(n,t))})}var _f=6,ba=class{constructor(t){var e,r,i,o;let a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=a.minPasswordLength)!==null&&e!==void 0?e:_f,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,r,i,o,a,s;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(e=c.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),c}validatePasswordLengthOptions(t,e){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var ya=class{constructor(t,e,r,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fi(this),this.idTokenSubscription=new fi(this),this.beforeStateQueue=new _a(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cd,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ke(e)),this._initializationPromise=this.queue(()=>f(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield pi.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return f(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return f(this,null,function*(){try{let e=yield ui(this,{idToken:t}),r=yield bt._fromGetAccountInfoResponse(this,e,t);yield this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return f(this,null,function*(){var e;if(ye(this.app)){let a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,s=i?._redirectEventId,c=yield this.tryRedirectSignIn(t);(!a||a===s)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return T(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(t){return f(this,null,function*(){let e=null;try{e=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return e})}reloadAndSetCurrentUserOrClear(t){return f(this,null,function*(){try{yield hi(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=rf()}_delete(){return f(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return f(this,null,function*(){if(ye(this.app))return Promise.reject(kt(this));let e=t?We(t):null;return e&&T(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))})}_updateCurrentUser(t,e=!1){return f(this,null,function*(){if(!this._deleted)return t&&T(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>f(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return f(this,null,function*(){return ye(this.app)?Promise.reject(kt(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return ye(this.app)?Promise.reject(kt(this)):this.queue(()=>f(this,null,function*(){yield this.assertedPersistence.setPersistence(Ke(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return f(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return f(this,null,function*(){let t=yield vf(this),e=new ba(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new $e("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},e)}})}revokeAccessToken(t){return f(this,null,function*(){if(this.currentUser){let e=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),yield pf(this,r)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,e){return f(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return f(this,null,function*(){if(!this.redirectPersistenceManager){let e=t&&Ke(t)||this._popupRedirectResolver;T(e,this,"argument-error"),this.redirectPersistenceManager=yield pi.create(this,[Ke(e._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return f(this,null,function*(){var e,r;return this._isInitialized&&(yield this.queue(()=>f(this,null,function*(){}))),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return f(this,null,function*(){if(t===this.currentUser)return this.queue(()=>f(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,i){if(this._deleted)return()=>{};let o=typeof e=="function"?e:e.next.bind(e),a=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(T(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof e=="function"){let c=t.addObserver(e,r,i);return()=>{a=!0,c()}}else{let c=t.addObserver(e);return()=>{a=!0,c()}}}directlySetCurrentUser(t){return f(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return T(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=wd(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return f(this,null,function*(){var t;let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e})}_getAppCheckToken(){return f(this,null,function*(){var t;if(ye(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return e?.error&&Qp(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function wi(n){return We(n)}var fi=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=Ml(e=>this.observer=e)}get next(){return T(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Da={loadJS(){return f(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bf(n){Da=n}function yf(n){return Da.loadJS(n)}function Cf(){return Da.gapiScript}function Id(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Sd(n,t){let e=da(n,"auth");if(e.isInitialized()){let i=e.getImmediate(),o=e.getOptions();if(mt(o,t??{}))return i;Ne(i,"already-initialized")}return e.initialize({options:t})}function wf(n,t){let e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(Ke);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function Ed(n,t,e){let r=wi(n);T(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=!!e?.disableWarnings,o=Td(t),{host:a,port:s}=If(t),c=s===null?"":`:${s}`,u={url:`${o}//${a}${c}/`},m=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){T(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),T(mt(u,r.config.emulator)&&mt(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Hn(a)?(yl(`${o}//${a}${c}`),Cl("Auth",!0)):i||Sf()}function Td(n){let t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function If(n){let t=Td(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};let r=e[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:Jl(r.substr(o.length+1))}}else{let[o,a]=r.split(":");return{host:o,port:Jl(a)}}}function Jl(n){if(!n)return null;let t=Number(n);return isNaN(t)?null:t}function Sf(){function n(){let t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Gn=class{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ge("not implemented")}_getIdTokenResponse(t){return Ge("not implemented")}_linkToIdToken(t,e){return Ge("not implemented")}_getReauthenticationResolver(t){return Ge("not implemented")}};function an(n,t){return f(this,null,function*(){return cf(n,"POST","/v1/accounts:signInWithIdp",Aa(n,t))})}var Ef="http://localhost",mi=class n extends Gn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let e=new n(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ne("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=e,o=er(e,["providerId","signInMethod"]);if(!r||!i)return null;let a=new n(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(t){let e=this.buildRequest();return an(t,e)}_linkToIdToken(t,e){let r=this.buildRequest();return r.idToken=e,an(t,r)}_getReauthenticationResolver(t){let e=this.buildRequest();return e.autoCreate=!1,an(t,e)}buildRequest(){let t={requestUri:Ef,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{let e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=tn(e)}return t}};var Kn=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var gi=class extends Kn{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var Na=(()=>{class n extends gi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return mi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:r,oauthAccessToken:i}=e;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();var Yn=class n{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,r,i=!1){return f(this,null,function*(){let o=yield bt._fromIdTokenResponse(t,r,i),a=Zl(r);return new n({user:o,providerId:a,_tokenResponse:r,operationType:e})})}static _forOperation(t,e,r){return f(this,null,function*(){yield t._updateTokensIfNecessary(r,!0);let i=Zl(r);return new n({user:t,providerId:i,_tokenResponse:r,operationType:e})})}};function Zl(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Ca=class n extends be{constructor(t,e,r,i){var o;super(e.code,e.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,i){return new n(t,e,r,i)}};function Pd(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ca._fromErrorAndOperation(n,o,t,r):o})}function Tf(n,t,e=!1){return f(this,null,function*(){let r=yield Wn(n,t._linkToIdToken(n.auth,yield n.getIdToken()),e);return Yn._forOperation(n,"link",r)})}function Pf(n,t,e=!1){return f(this,null,function*(){let{auth:r}=n;if(ye(r.app))return Promise.reject(kt(r));let i="reauthenticate";try{let o=yield Wn(n,Pd(r,i,t,n),e);T(o.idToken,r,"internal-error");let a=ka(o.idToken);T(a,r,"internal-error");let{sub:s}=a;return T(n.uid===s,r,"user-mismatch"),Yn._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ne(r,"user-mismatch"),o}})}function Of(n,t,e=!1){return f(this,null,function*(){if(ye(n.app))return Promise.reject(kt(n));let r="signIn",i=yield Pd(n,r,t),o=yield Yn._fromIdTokenResponse(n,r,i);return e||(yield n._updateCurrentUser(o.user)),o})}function Od(n,t,e,r){return We(n).onIdTokenChanged(t,e,r)}function Rd(n,t,e){return We(n).beforeAuthStateChanged(t,e)}function La(n,t,e,r){return We(n).onAuthStateChanged(t,e,r)}function Ua(n){return We(n).signOut()}var vi="__sak";var _i=class{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(vi,"1"),this.storage.removeItem(vi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){let e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var Rf=1e3,Mf=10,Af=(()=>{class n extends _i{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Cd(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&e(r,o,i)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,c,u)=>{this.notifyListeners(s,u)});return}let i=e.key;r?this.detachListener():this.stopPolling();let o=()=>{let s=this.storage.getItem(i);!r&&this.localCache[i]===s||this.notifyListeners(i,s)},a=this.storage.getItem(i);gf()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Mf):o()}notifyListeners(e,r){this.localCache[e]=r;let i=this.listeners[e];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:i}),!0)})},Rf)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(e,r){return f(this,null,function*(){yield yt(n.prototype,this,"_set").call(this,e,r),this.localCache[e]=JSON.stringify(r)})}_get(e){return f(this,null,function*(){let r=yield yt(n.prototype,this,"_get").call(this,e);return this.localCache[e]=JSON.stringify(r),r})}_remove(e){return f(this,null,function*(){yield yt(n.prototype,this,"_remove").call(this,e),delete this.localCache[e]})}}return n.type="LOCAL",n})(),Md=Af;var kf=(()=>{class n extends _i{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}return n.type="SESSION",n})(),Fa=kf;function xf(n){return Promise.all(n.map(t=>f(null,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(e){return{fulfilled:!1,reason:e}}})))}var Df=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let r=this.receivers.find(o=>o.isListeningto(e));if(r)return r;let i=new n(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}handleEvent(e){return f(this,null,function*(){let r=e,{eventId:i,eventType:o,data:a}=r.data,s=this.handlersMap[o];if(!s?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(s).map(m=>f(this,null,function*(){return m(r.origin,a)})),u=yield xf(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Va(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}var wa=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,r=50){return f(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,c)=>{let u=Va("",20);i.port1.start();let m=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(I){let v=I;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(v.data.response);break;default:clearTimeout(m),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:u,data:e},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})})}};function De(){return window}function Nf(n){De().location.href=n}function Ad(){return typeof De().WorkerGlobalScope<"u"&&typeof De().importScripts=="function"}function Lf(){return f(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Uf(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Ff(){return Ad()?self:null}var kd="firebaseLocalStorageDb",Vf=1,bi="firebaseLocalStorage",xd="fbase_key",Dt=class{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}};function Ii(n,t){return n.transaction([bi],t?"readwrite":"readonly").objectStore(bi)}function jf(){let n=indexedDB.deleteDatabase(kd);return new Dt(n).toPromise()}function Ia(){let n=indexedDB.open(kd,Vf);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(bi,{keyPath:xd})}catch(i){e(i)}}),n.addEventListener("success",()=>f(null,null,function*(){let r=n.result;r.objectStoreNames.contains(bi)?t(r):(r.close(),yield jf(),t(yield Ia()))}))})}function Xl(n,t,e){return f(this,null,function*(){let r=Ii(n,!0).put({[xd]:t,value:e});return new Dt(r).toPromise()})}function Hf(n,t){return f(this,null,function*(){let e=Ii(n,!1).get(t),r=yield new Dt(e).toPromise();return r===void 0?null:r.value})}function Ql(n,t){let e=Ii(n,!0).delete(t);return new Dt(e).toPromise()}var zf=800,Bf=3,$f=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return f(this,null,function*(){return this.db?this.db:(this.db=yield Ia(),this.db)})}_withRetries(e){return f(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield e(i)}catch(i){if(r++>Bf)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return f(this,null,function*(){return Ad()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return f(this,null,function*(){this.receiver=Df._getInstance(Ff()),this.receiver._subscribe("keyChanged",(e,r)=>f(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(e,r)=>f(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return f(this,null,function*(){var e,r;if(this.activeServiceWorker=yield Lf(),!this.activeServiceWorker)return;this.sender=new wa(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(e){return f(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Uf()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return f(this,null,function*(){try{if(!indexedDB)return!1;let e=yield Ia();return yield Xl(e,vi,"1"),yield Ql(e,vi),!0}catch{}return!1})}_withPendingWrite(e){return f(this,null,function*(){this.pendingWrites++;try{yield e()}finally{this.pendingWrites--}})}_set(e,r){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(i=>Xl(i,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)}))})}_get(e){return f(this,null,function*(){let r=yield this._withRetries(i=>Hf(i,e));return this.localCache[e]=r,r})}_remove(e){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(r=>Ql(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)}))})}_poll(){return f(this,null,function*(){let e=yield this._withRetries(o=>{let a=Ii(o,!1).getAll();return new Dt(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(e.length!==0)for(let{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(e,r){this.localCache[e]=r;let i=this.listeners[e];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>f(this,null,function*(){return this._poll()}),zf)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Dd=$f;var q0=Id("rcb"),G0=new xt(3e4,6e4);function Nd(n,t){return t?Ke(t):(T(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Jn=class extends Gn{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return an(t,this._buildIdpRequest())}_linkToIdToken(t,e){return an(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return an(t,this._buildIdpRequest())}_buildIdpRequest(t){let e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}};function Wf(n){return Of(n.auth,new Jn(n),n.bypassAuthState)}function qf(n){let{auth:t,user:e}=n;return T(e,t,"internal-error"),Pf(e,new Jn(n),n.bypassAuthState)}function Gf(n){return f(this,null,function*(){let{auth:t,user:e}=n;return T(e,t,"internal-error"),Tf(e,new Jn(n),n.bypassAuthState)})}var yi=class{constructor(t,e,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((t,e)=>f(this,null,function*(){this.pendingPromise={resolve:t,reject:e};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(t){return f(this,null,function*(){let{urlResponse:e,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=t;if(a){this.reject(a);return}let c={auth:this.auth,requestUri:e,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(s)(c))}catch(u){this.reject(u)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Wf;case"linkViaPopup":case"linkViaRedirect":return Gf;case"reauthViaPopup":case"reauthViaRedirect":return qf;default:Ne(this.auth,"internal-error")}}resolve(t){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Kf=new xt(2e3,1e4);function ja(n,t,e){return f(this,null,function*(){if(ye(n.app))return Promise.reject(Ce(n,"operation-not-supported-in-this-environment"));let r=wi(n);ef(n,t,Kn);let i=Nd(r,e);return new Yf(r,"signInViaPopup",t,i).executeNotNull()})}var Yf=(()=>{class n extends yi{constructor(e,r,i,o,a){super(e,r,o,a),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return f(this,null,function*(){let e=yield this.execute();return T(e,this.auth,"internal-error"),e})}onExecution(){return f(this,null,function*(){Ye(this.filter.length===1,"Popup operations only handle one event");let e=Va();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ce(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let e=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Kf.get())};e()}}n.currentPopupAction=null;return n})(),Jf="pendingRedirect",si=new Map,Sa=class n extends yi{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}execute(){return f(this,null,function*(){let t=si.get(this.auth._key());if(!t){try{let r=(yield Zf(this.resolver,this.auth))?yield yt(n.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}si.set(this.auth._key(),t)}return this.bypassAuthState||si.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return f(this,null,function*(){if(t.type==="signInViaRedirect")return yt(n.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let e=yield this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,yt(n.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return f(this,null,function*(){})}cleanUp(){}};function Zf(n,t){return f(this,null,function*(){let e=em(t),r=Qf(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(e))==="true";return yield r._remove(e),i})}function Xf(n,t){si.set(n._key(),t)}function Qf(n){return Ke(n._redirectPersistence)}function em(n){return ai(Jf,n.config.apiKey,n.name)}function tm(n,t,e=!1){return f(this,null,function*(){if(ye(n.app))return Promise.reject(kt(n));let r=wi(n),i=Nd(r,t),a=yield new Sa(r,i,e).execute();return a&&!e&&(delete a.user._redirectEventId,yield r._persistUserIfCurrent(a.user),yield r._setRedirectUser(null,t)),a})}var nm=10*60*1e3,Ea=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!rm(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!Ld(t)){let i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";e.onError(Ce(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){let r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=nm&&this.cachedEventUids.clear(),this.cachedEventUids.has(ed(t))}saveEventToCache(t){this.cachedEventUids.add(ed(t)),this.lastProcessedEventTime=Date.now()}};function ed(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Ld({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function rm(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ld(n);default:return!1}}function im(e){return f(this,arguments,function*(n,t={}){return sn(n,"GET","/v1/projects",t)})}var om=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,am=/^https?/;function sm(n){return f(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:t}=yield im(n);for(let e of t)try{if(cm(e))return}catch{}Ne(n,"unauthorized-domain")})}function cm(n){let t=fa(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){let a=new URL(n);return a.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&a.hostname===r}if(!am.test(e))return!1;if(om.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var lm=new xt(3e4,6e4);function td(){let n=De().___jsl;if(n?.H){for(let t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function dm(n){return new Promise((t,e)=>{var r,i,o;function a(){td(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{td(),e(Ce(n,"network-request-failed"))},timeout:lm.get()})}if(!((i=(r=De().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=De().gapi)===null||o===void 0)&&o.load)a();else{let s=Id("iframefcb");return De()[s]=()=>{gapi.load?a():e(Ce(n,"network-request-failed"))},yf(`${Cf()}?onload=${s}`).catch(c=>e(c))}}).catch(t=>{throw ci=null,t})}var ci=null;function um(n){return ci=ci||dm(n),ci}var hm=new xt(5e3,15e3),pm="__/auth/iframe",fm="emulator/auth/iframe",mm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vm(n){let t=n.config;T(t.authDomain,n,"auth-domain-config-required");let e=t.emulator?Ma(t,fm):`https://${n.config.authDomain}/${pm}`,r={apiKey:t.apiKey,appName:n.name,v:on},i=gm.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${e}?${tn(r).slice(1)}`}function _m(n){return f(this,null,function*(){let t=yield um(n),e=De().gapi;return T(e,n,"internal-error"),t.open({where:document.body,url:vm(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mm,dontclear:!0},r=>new Promise((i,o)=>f(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let a=Ce(n,"network-request-failed"),s=De().setTimeout(()=>{o(a)},hm.get());function c(){De().clearTimeout(s),i(r)}r.ping(c).then(c,()=>{o(a)})})))})}var bm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ym=500,Cm=600,wm="_blank",Im="http://localhost",Ci=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Sm(n,t,e,r=ym,i=Cm){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},bm),{width:r.toString(),height:i.toString(),top:o,left:a}),u=ee().toLowerCase();e&&(s=gd(u)?wm:e),fd(u)&&(t=t||Im,c.scrollbars="yes");let m=Object.entries(c).reduce((v,[x,L])=>`${v}${x}=${L},`,"");if(mf(u)&&s!=="_self")return Em(t||"",s),new Ci(null);let I=window.open(t||"",s,m);T(I,n,"popup-blocked");try{I.focus()}catch{}return new Ci(I)}function Em(n,t){let e=document.createElement("a");e.href=n,e.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}var Tm="__/auth/handler",Pm="emulator/auth/handler",Om=encodeURIComponent("fac");function nd(n,t,e,r,i,o){return f(this,null,function*(){T(n.config.authDomain,n,"auth-domain-config-required"),T(n.config.apiKey,n,"invalid-api-key");let a={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:on,eventId:i};if(t instanceof Kn){t.setDefaultLanguage(n.languageCode),a.providerId=t.providerId||"",Rl(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(let[m,I]of Object.entries(o||{}))a[m]=I}if(t instanceof gi){let m=t.getScopes().filter(I=>I!=="");m.length>0&&(a.scopes=m.join(","))}n.tenantId&&(a.tid=n.tenantId);let s=a;for(let m of Object.keys(s))s[m]===void 0&&delete s[m];let c=yield n._getAppCheckToken(),u=c?`#${Om}=${encodeURIComponent(c)}`:"";return`${Rm(n)}?${tn(s).slice(1)}${u}`})}function Rm({config:n}){return n.emulator?Ma(n,Pm):`https://${n.authDomain}/${Tm}`}var pa="webStorageSupport",Ta=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fa,this._completeRedirectFn=tm,this._overrideRedirectResult=Xf}_openPopup(t,e,r,i){return f(this,null,function*(){var o;Ye((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let a=yield nd(t,e,r,fa(),i);return Sm(t,a,Va())})}_openRedirect(t,e,r,i){return f(this,null,function*(){yield this._originValidation(t);let o=yield nd(t,e,r,fa(),i);return Nf(o),new Promise(()=>{})})}_initialize(t){let e=t._key();if(this.eventManagers[e]){let{manager:i,promise:o}=this.eventManagers[e];return i?Promise.resolve(i):(Ye(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}initAndGetManager(t){return f(this,null,function*(){let e=yield _m(t),r=new Ea(t);return e.register("authEvent",i=>(T(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r})}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(pa,{type:pa},i=>{var o;let a=(o=i?.[0])===null||o===void 0?void 0:o[pa];a!==void 0&&e(!!a),Ne(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=sm(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Cd()||md()||xa()}},Ud=Ta;var rd="@firebase/auth",id="1.10.7";var Pa=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return f(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){T(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Mm(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Am(n){rn(new ke("auth",(t,{options:e})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;T(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:a,authDomain:s,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wd(n)},u=new ya(r,i,o,c);return wf(u,e),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),rn(new ke("auth-internal",t=>{let e=wi(t.getProvider("auth").getImmediate());return(r=>new Pa(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),vt(rd,id,Mm(n)),vt(rd,id,"esm2017")}var km=5*60,xm=Yo("authIdTokenMaxAge")||km,od=null,Dm=n=>t=>f(null,null,function*(){let e=t&&(yield t.getIdTokenResult()),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>xm)return;let i=e?.token;od!==i&&(od=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ha(n=Bl()){let t=da(n,"auth");if(t.isInitialized())return t.getImmediate();let e=Sd(n,{popupRedirectResolver:Ud,persistence:[Dd,Md,Fa]}),r=Yo("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let a=Dm(o.toString());Rd(e,a,()=>a(e.currentUser)),Od(e,s=>a(s))}}let i=bl("auth");return i&&Ed(e,`http://${i}`),e}function Nm(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}bf({loadJS(n){return new Promise((t,e)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=i=>{let o=Ce("internal-error");o.customData=i,e(o)},r.type="text/javascript",r.charset="UTF-8",Nm().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Am("Browser");var Lm="firebase",Um="11.9.1";vt(Lm,Um,"app");var Si=class n{app=ua(at.firebase);auth=Ha(this.app);constructor(){}static \u0275fac=function(e){return new(e||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ei=class n{constructor(t,e){this.firebaseService=t;this.http=e;La(this.firebaseService.auth,r=>{this.firebaseUserSubject.next(r)})}firebaseUserSubject=new re(null);firebaseUser$=this.firebaseUserSubject.asObservable();user$=this.firebaseUserSubject.asObservable();signInWithGoogle(){return f(this,null,function*(){try{let t=new Na;t.addScope("profile"),t.addScope("email");let r=yield(yield ja(this.firebaseService.auth,t)).user.getIdToken();return yield this.sendTokenToBackend(r)}catch(t){throw console.error("Error signing in with Google:",t),t.code==="auth/popup-closed-by-user"?new Error("Sign-in was cancelled"):t.code==="auth/popup-blocked"?new Error("Popup was blocked by your browser. Please allow popups and try again."):new Error("Google sign-in failed. Please try again.")}})}signOut(){return f(this,null,function*(){try{yield Ua(this.firebaseService.auth),this.firebaseUserSubject.next(null)}catch(t){throw console.error("Error signing out:",t),t}})}sendTokenToBackend(t){return f(this,null,function*(){try{return yield this.http.post(`${at.apiBaseUrl}/api/user/google-login`,JSON.stringify(t),{headers:{"Content-Type":"application/json"}}).toPromise()}catch(e){throw console.error("Error sending token to backend:",e),e}})}getCurrentFirebaseUser(){return this.firebaseUserSubject.value}getCurrentUserToken(){return f(this,null,function*(){let t=this.getCurrentFirebaseUser();return t?yield t.getIdToken():null})}isFirebaseAuthenticated(){return!!this.getCurrentFirebaseUser()}static \u0275fac=function(e){return new(e||n)(M(Si),M(ot))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};function jm(n,t){if(n&1){let e=z();l(0,"div",45),h(1),l(2,"button",46),S("click",function(){y(e);let i=_();return C(i.loginError="")}),d()()}if(n&2){let e=_();p(),J(" ",e.loginError," ")}}function Hm(n,t){n&1&&(is(),l(0,"svg",47),w(1,"path",48)(2,"path",49)(3,"path",50)(4,"path",51),d())}function zm(n,t){n&1&&(l(0,"div",52)(1,"span",53),h(2,"Loading..."),d()())}function Bm(n,t){n&1&&(l(0,"span"),h(1,"Continue with Google"),d())}function $m(n,t){n&1&&(l(0,"span"),h(1,"Signing in..."),d())}function Wm(n,t){n&1&&(l(0,"span"),h(1,"Email is required"),d())}function qm(n,t){n&1&&(l(0,"span"),h(1,"Please enter a valid email"),d())}function Gm(n,t){if(n&1&&(l(0,"div",54),O(1,Wm,2,0,"span",19)(2,qm,2,0,"span",19),d()),n&2){_();let e=oe(34);p(),g("ngIf",e.errors==null?null:e.errors.required),p(),g("ngIf",e.errors==null?null:e.errors.email)}}function Km(n,t){n&1&&(l(0,"div",54),h(1," Password is required "),d())}var Ti=class n{constructor(t,e,r){this.userService=t;this.authService=e;this.router=r;this.model={email:"",password:""}}model;loginSubscription;googleLoginSubscription;loginError="";showPassword=!1;isGoogleLoading=!1;ngOnInit(){this.userService.user$.subscribe(t=>{t&&this.router.navigate(["/"])})}togglePassword(){this.showPassword=!this.showPassword;let t=document.getElementById("loginPassword");t&&(t.type=t.type==="password"?"text":"password")}onFormSubmit(){if(!this.model.email||!this.model.password){this.loginError="Please enter email and password";return}this.loginError="",this.loginSubscription=this.userService.login(this.model).subscribe({next:t=>{t.token&&t.user&&(this.userService.setLoggedInUser(t.user),sessionStorage.setItem("token",t.token),this.router.navigate(["/"]))},error:t=>{this.loginError=t.error?.message||"Login failed. Please check your credentials."}})}signInWithGoogle(){return f(this,null,function*(){this.isGoogleLoading=!0,this.loginError="";try{let t=yield this.authService.signInWithGoogle();if(t&&t.token&&t.user)this.userService.setLoggedInUser(t.user),sessionStorage.setItem("token",t.token),this.router.navigate(["/"]);else throw new Error("Authentication failed - no user data received")}catch(t){console.error("Google sign-in failed:",t),this.loginError=t.message||"Google sign-in failed. Please try again."}finally{this.isGoogleLoading=!1}})}ngOnDestroy(){this.loginSubscription?.unsubscribe(),this.googleLoginSubscription?.unsubscribe()}static \u0275fac=function(e){return new(e||n)(k(Q),k(Ei),k(H))};static \u0275cmp=$({type:n,selectors:[["app-login"]],standalone:!1,decls:59,vars:13,consts:[["form","ngForm"],["emailField","ngModel"],["passwordField","ngModel"],[1,"d-flex","justify-content-center","align-items-center","min-vh-100","bg-light","py-5"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-6","col-lg-4"],[1,"card","shadow-sm","border-0","rounded-3"],[1,"logo-container","mt-4"],["src","img/ulbs-logo-normal.png","alt","Universitatea Lucian Blaga din Sibiu",1,"img-fluid"],[1,"card-body","p-4","p-md-5"],[1,"text-center","mb-4"],[1,"h3","fw-bold"],[1,"text-muted"],["class","alert alert-danger alert-dismissible fade show mb-4","role","alert",4,"ngIf"],[1,"d-grid","gap-2","mb-3"],["type","button",1,"btn","btn-google","py-2","fw-bold","d-flex","align-items-center","justify-content-center",3,"click","disabled"],["width","18","height","18","viewBox","0 0 18 18","xmlns","http://www.w3.org/2000/svg","class","me-2",4,"ngIf"],["class","spinner-border spinner-border-sm me-2","role","status",4,"ngIf"],[4,"ngIf"],[1,"divider-container","mb-4"],[1,"divider-line"],[1,"divider-text"],["novalidate","",3,"ngSubmit"],[1,"mb-3"],["for","loginEmail",1,"form-label","visually-hidden"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-envelope"],["type","email","id","loginEmail","name","loginEmail","placeholder","Email Address","required","","email","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger small mt-1",4,"ngIf"],[1,"mb-4"],["for","loginPassword",1,"form-label","visually-hidden"],[1,"bi","bi-lock"],["id","loginPassword","name","loginPassword","placeholder","Password","required","",1,"form-control",3,"ngModelChange","type","ngModel"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi",3,"ngClass"],[1,"form-check","mb-3"],["type","checkbox","id","rememberMe","name","rememberMe",1,"form-check-input"],["for","rememberMe",1,"form-check-label","small"],[1,"d-grid","gap-2","mb-4"],["type","submit",1,"btn","btn-primary","py-2","fw-bold",3,"disabled"],[1,"text-center"],[1,"mb-0"],["routerLink","/register",1,"text-decoration-none","fw-bold"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show","mb-4"],["type","button",1,"btn-close",3,"click"],["width","18","height","18","viewBox","0 0 18 18","xmlns","http://www.w3.org/2000/svg",1,"me-2"],["d","M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z","fill","#4285F4"],["d","M9 18c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332C2.438 15.983 5.482 18 9 18z","fill","#34A853"],["d","M3.964 10.71c-.18-.54-.282-1.117-.282-1.71s.102-1.17.282-1.71V4.958H.957C.347 6.173 0 7.548 0 9s.348 2.827.957 4.042l3.007-2.332z","fill","#FBBC05"],["d","M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0 5.482 0 2.438 2.017.957 5.958L3.964 8.29C4.672 5.163 6.656 3.58 9 3.58z","fill","#EA4335"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"visually-hidden"],[1,"text-danger","small","mt-1"]],template:function(e,r){if(e&1){let i=z();l(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8),w(6,"img",9),d(),l(7,"div",10)(8,"div",11)(9,"h1",12),h(10,"Sign In"),d(),l(11,"p",13),h(12,"Welcome back"),d()(),O(13,jm,3,1,"div",14),l(14,"div",15)(15,"button",16),S("click",function(){return y(i),C(r.signInWithGoogle())}),O(16,Hm,5,0,"svg",17)(17,zm,3,0,"div",18)(18,Bm,2,0,"span",19)(19,$m,2,0,"span",19),d()(),l(20,"div",20),w(21,"hr",21),l(22,"span",22),h(23,"or"),d(),w(24,"hr",21),d(),l(25,"form",23,0),S("ngSubmit",function(){return y(i),C(r.onFormSubmit())}),l(27,"div",24)(28,"label",25),h(29,"Email"),d(),l(30,"div",26)(31,"span",27),w(32,"i",28),d(),l(33,"input",29,1),V("ngModelChange",function(a){return y(i),F(r.model.email,a)||(r.model.email=a),C(a)}),d()(),O(35,Gm,3,2,"div",30),d(),l(36,"div",31)(37,"label",32),h(38,"Password"),d(),l(39,"div",26)(40,"span",27),w(41,"i",33),d(),l(42,"input",34,2),V("ngModelChange",function(a){return y(i),F(r.model.password,a)||(r.model.password=a),C(a)}),d(),l(44,"button",35),S("click",function(){return y(i),C(r.togglePassword())}),w(45,"i",36),d()(),O(46,Km,2,0,"div",30),d(),l(47,"div",37),w(48,"input",38),l(49,"label",39),h(50," Remember me "),d()(),l(51,"div",40)(52,"button",41),h(53," Sign In "),d()(),l(54,"div",42)(55,"p",43),h(56," Don't have an account? "),l(57,"a",44),h(58,"Create Account"),d()()()()()()()()()()}if(e&2){let i=oe(26),o=oe(34),a=oe(43);p(13),g("ngIf",r.loginError),p(2),g("disabled",r.isGoogleLoading),p(),g("ngIf",!r.isGoogleLoading),p(),g("ngIf",r.isGoogleLoading),p(),g("ngIf",!r.isGoogleLoading),p(),g("ngIf",r.isGoogleLoading),p(14),U("ngModel",r.model.email),p(2),g("ngIf",o.invalid&&(o.dirty||o.touched)),p(7),g("type",r.showPassword?"text":"password"),U("ngModel",r.model.password),p(3),g("ngClass",r.showPassword?"bi-eye-slash":"bi-eye"),p(),g("ngIf",a.invalid&&(a.dirty||a.touched)),p(6),g("disabled",!i.valid)}},dependencies:[Se,ae,me,Pe,pe,fe,Ee,zt,fr,Te,Ht],styles:[".card[_ngcontent-%COMP%]{transition:all .3s ease;border:none!important;border-radius:12px!important;overflow:hidden;box-shadow:0 8px 20px #0b2f6314!important}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 30px #0b2f631f!important}.card-body[_ngcontent-%COMP%]{padding:2.5rem!important}h1.h3[_ngcontent-%COMP%]{color:var(--primary-blue);font-weight:700!important;margin-bottom:.5rem;font-family:var(--font-primary)}.text-muted[_ngcontent-%COMP%]{color:var(--gray-medium)!important}.btn-google[_ngcontent-%COMP%]{background-color:#fff!important;border:2px solid #dadce0!important;color:#3c4043!important;padding:.75rem 1.5rem!important;font-weight:500!important;border-radius:8px!important;transition:all .3s ease;font-size:14px}.btn-google[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f8f9fa!important;border-color:#c1c7cd!important;box-shadow:0 2px 8px #3c404326!important;color:#3c4043!important}.btn-google[_ngcontent-%COMP%]:active{background-color:#f1f3f4!important;border-color:#c1c7cd!important;transform:translateY(1px)}.btn-google[_ngcontent-%COMP%]:disabled{background-color:#f8f9fa!important;border-color:#e8eaed!important;color:#9aa0a6!important;cursor:not-allowed}.divider-container[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;margin:1.5rem 0}.divider-line[_ngcontent-%COMP%]{flex:1;height:1px;background-color:#dadce0;border:none;margin:0}.divider-text[_ngcontent-%COMP%]{padding:0 1rem;color:var(--gray-medium);font-size:14px;background-color:#fff}.input-group-text[_ngcontent-%COMP%]{border-right:0;background-color:var(--primary-white)!important;border-color:#0b2f6333;color:var(--primary-blue)}.input-group-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--blue-80)}.form-control[_ngcontent-%COMP%]{border-left:0;border-color:#0b2f6333;color:var(--gray-dark);padding:.75rem 1rem;font-family:var(--font-primary)}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:var(--blue-40)}.input-group[_ngcontent-%COMP%]:focus-within   .input-group-text[_ngcontent-%COMP%]{border-color:var(--blue-40)}.btn-outline-secondary[_ngcontent-%COMP%]{border-color:#0b2f6333;color:var(--blue-80);border-left:0}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background-color:var(--blue-20);color:var(--primary-blue);border-color:var(--blue-40)}.btn-outline-secondary[_ngcontent-%COMP%]:focus{box-shadow:none}.form-check-input[_ngcontent-%COMP%]{border-color:#0b2f634d;width:18px;height:18px}.form-check-input[_ngcontent-%COMP%]:checked{background-color:var(--primary-blue);border-color:var(--primary-blue)}.form-check-label[_ngcontent-%COMP%]{color:var(--gray-medium);margin-left:4px}.btn-primary[_ngcontent-%COMP%]{background-color:var(--primary-blue)!important;border-color:var(--primary-blue)!important;padding:.75rem 1.5rem!important;font-weight:600!important;border-radius:50px!important;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:active{background-color:var(--blue-80)!important;border-color:var(--blue-80)!important;transform:translateY(-2px);box-shadow:0 8px 15px #0b2f6333!important}.btn-primary[_ngcontent-%COMP%]:active{transform:translateY(-1px)}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:var(--blue-40)!important;border-color:var(--blue-40)!important}.text-decoration-none[_ngcontent-%COMP%]{color:var(--primary-blue)!important;transition:all .2s ease}.text-decoration-none[_ngcontent-%COMP%]:hover{color:var(--primary-red)!important;text-decoration:underline!important}.alert-danger[_ngcontent-%COMP%]{background-color:var(--red-light);border-color:var(--red-40);color:var(--primary-red);border-radius:8px;border-left:4px solid var(--primary-red)}.alert[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{color:var(--primary-red);opacity:.8}.bg-light[_ngcontent-%COMP%]{background-color:var(--gray-light)!important}.text-danger[_ngcontent-%COMP%]{color:var(--primary-red)!important}.logo-container[_ngcontent-%COMP%]{margin-bottom:2rem;text-align:center}.logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;margin-bottom:1rem}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}"]})};var Ym=(n,t,e)=>({"strength-weak":n,"strength-medium":t,"strength-strong":e});function Jm(n,t){if(n&1){let e=z();l(0,"div",41),h(1),l(2,"button",42),S("click",function(){y(e);let i=_();return C(i.registrationError="")}),d()()}if(n&2){let e=_();p(),J(" ",e.registrationError," ")}}function Zm(n,t){n&1&&(l(0,"span"),h(1,"Name is required"),d())}function Xm(n,t){n&1&&(l(0,"span"),h(1,"Name must be at least 3 characters"),d())}function Qm(n,t){if(n&1&&(l(0,"div",43),O(1,Zm,2,0,"span",44)(2,Xm,2,0,"span",44),d()),n&2){_();let e=oe(21);p(),g("ngIf",e.errors==null?null:e.errors.required),p(),g("ngIf",e.errors==null?null:e.errors.minlength)}}function eg(n,t){n&1&&(l(0,"span"),h(1,"Email is required"),d())}function tg(n,t){n&1&&(l(0,"span"),h(1,"Please enter a valid email"),d())}function ng(n,t){if(n&1&&(l(0,"div",43),O(1,eg,2,0,"span",44)(2,tg,2,0,"span",44),d()),n&2){_();let e=oe(30);p(),g("ngIf",e.errors==null?null:e.errors.required),p(),g("ngIf",e.errors==null?null:e.errors.email)}}function rg(n,t){if(n&1&&w(0,"div",45),n&2){let e=_();g("ngClass",xs(1,Ym,e.model.password.length<8,e.model.password.length>=8&&e.model.password.length<12,e.model.password.length>=12))}}function ig(n,t){n&1&&(l(0,"span"),h(1,"Password is required"),d())}function og(n,t){n&1&&(l(0,"span"),h(1,"Password must be at least 6 characters"),d())}function ag(n,t){if(n&1&&(l(0,"div",43),O(1,ig,2,0,"span",44)(2,og,2,0,"span",44),d()),n&2){_();let e=oe(39);p(),g("ngIf",e.errors==null?null:e.errors.required),p(),g("ngIf",e.errors==null?null:e.errors.minlength)}}function sg(n,t){n&1&&(l(0,"div",43),h(1," Confirm Password is required "),d())}function cg(n,t){n&1&&(l(0,"div",43),h(1," Passwords do not match "),d())}var Pi=class n{constructor(t,e){this.userService=t;this.router=e;this.model={name:"",email:"",password:"",role:""}}model;confirmPassword="";termsAccepted=!1;showPassword=!1;showConfirmPassword=!1;registerSubscription;registrationError="";ngOnInit(){this.userService.user$.subscribe(t=>{t&&this.router.navigate(["/user-profile"])})}togglePassword(t){t==="registerPassword"?this.showPassword=!this.showPassword:this.showConfirmPassword=!this.showConfirmPassword;let e=document.getElementById(t);e&&(e.type=e.type==="password"?"text":"password")}isValid(){let t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return this.model.name.trim().length>=3&&t.test(this.model.email.trim())&&this.model.password.trim().length>=6&&this.model.password===this.confirmPassword&&!!this.model.role&&this.termsAccepted}onFormSubmit(){if(!this.isValid()){this.registrationError="Please complete all required fields correctly";return}this.registrationError="",this.registerSubscription=this.userService.register(this.model).subscribe({next:()=>{this.router.navigate(["/login"])},error:t=>{this.registrationError=t.error?.message||"Registration failed. Please try again."}})}ngOnDestroy(){this.registerSubscription?.unsubscribe()}static \u0275fac=function(e){return new(e||n)(k(Q),k(H))};static \u0275cmp=$({type:n,selectors:[["app-register"]],standalone:!1,decls:64,vars:16,consts:[["form","ngForm"],["nameField","ngModel"],["emailField","ngModel"],["passwordField","ngModel"],["confirmPasswordField","ngModel"],[1,"d-flex","justify-content-center","align-items-center","min-vh-100","bg-light","py-5"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-6","col-lg-5"],[1,"card","shadow-sm","border-0","rounded-3"],[1,"logo-container","mt-4"],["src","img/ulbs-logo-normal.png","alt","Universitatea Lucian Blaga din Sibiu",1,"img-fluid"],[1,"card-body","p-4","p-md-5"],[1,"text-center","mb-4"],[1,"h3","fw-bold"],["class","alert alert-danger alert-dismissible fade show mb-4","role","alert",4,"ngIf"],["novalidate","",3,"ngSubmit"],[1,"mb-3"],["for","registerName",1,"form-label","visually-hidden"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-person"],["type","text","id","registerName","name","registerName","placeholder","Full Name","required","","minlength","3",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger small mt-1",4,"ngIf"],["for","registerEmail",1,"form-label","visually-hidden"],[1,"bi","bi-envelope"],["type","email","id","registerEmail","name","registerEmail","placeholder","Email Address","required","","email","",1,"form-control",3,"ngModelChange","ngModel"],["for","registerPassword",1,"form-label","visually-hidden"],[1,"bi","bi-lock"],["id","registerPassword","name","registerPassword","placeholder","Password","required","","minlength","6",1,"form-control",3,"ngModelChange","type","ngModel"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi",3,"ngClass"],["class","password-strength",3,"ngClass",4,"ngIf"],["for","registerConfirmPassword",1,"form-label","visually-hidden"],[1,"bi","bi-lock-fill"],["id","registerConfirmPassword","name","registerConfirmPassword","placeholder","Confirm Password","required","",1,"form-control",3,"ngModelChange","type","ngModel"],[1,"d-grid","gap-2","mb-4"],["type","submit",1,"btn","btn-primary","py-2","fw-bold",3,"disabled"],[1,"text-center"],[1,"mb-0"],["routerLink","/login",1,"text-decoration-none","fw-bold"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show","mb-4"],["type","button",1,"btn-close",3,"click"],[1,"text-danger","small","mt-1"],[4,"ngIf"],[1,"password-strength",3,"ngClass"]],template:function(e,r){if(e&1){let i=z();l(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10),w(6,"img",11),d(),l(7,"div",12)(8,"div",13)(9,"h1",14),h(10,"Create Account"),d()(),O(11,Jm,3,1,"div",15),l(12,"form",16,0),S("ngSubmit",function(){return y(i),C(r.onFormSubmit())}),l(14,"div",17)(15,"label",18),h(16,"Name"),d(),l(17,"div",19)(18,"span",20),w(19,"i",21),d(),l(20,"input",22,1),V("ngModelChange",function(a){return y(i),F(r.model.name,a)||(r.model.name=a),C(a)}),d()(),O(22,Qm,3,2,"div",23),d(),l(23,"div",17)(24,"label",24),h(25,"Email"),d(),l(26,"div",19)(27,"span",20),w(28,"i",25),d(),l(29,"input",26,2),V("ngModelChange",function(a){return y(i),F(r.model.email,a)||(r.model.email=a),C(a)}),d()(),O(31,ng,3,2,"div",23),d(),l(32,"div",17)(33,"label",27),h(34,"Password"),d(),l(35,"div",19)(36,"span",20),w(37,"i",28),d(),l(38,"input",29,3),V("ngModelChange",function(a){return y(i),F(r.model.password,a)||(r.model.password=a),C(a)}),d(),l(40,"button",30),S("click",function(){return y(i),C(r.togglePassword("registerPassword"))}),w(41,"i",31),d()(),O(42,rg,1,5,"div",32)(43,ag,3,2,"div",23),d(),l(44,"div",17)(45,"label",33),h(46,"Confirm Password"),d(),l(47,"div",19)(48,"span",20),w(49,"i",34),d(),l(50,"input",35,4),V("ngModelChange",function(a){return y(i),F(r.confirmPassword,a)||(r.confirmPassword=a),C(a)}),d(),l(52,"button",30),S("click",function(){return y(i),C(r.togglePassword("registerConfirmPassword"))}),w(53,"i",31),d()(),O(54,sg,2,0,"div",23)(55,cg,2,0,"div",23),d(),l(56,"div",36)(57,"button",37),h(58," Create Account "),d()(),l(59,"div",38)(60,"p",39),h(61,"Already have an account? "),l(62,"a",40),h(63,"Sign In"),d()()()()()()()()()()}if(e&2){let i=oe(13),o=oe(21),a=oe(30),s=oe(39),c=oe(51);p(11),g("ngIf",r.registrationError),p(9),U("ngModel",r.model.name),p(2),g("ngIf",o.invalid&&(o.dirty||o.touched)),p(7),U("ngModel",r.model.email),p(2),g("ngIf",a.invalid&&(a.dirty||a.touched)),p(7),g("type",r.showPassword?"text":"password"),U("ngModel",r.model.password),p(3),g("ngClass",r.showPassword?"bi-eye-slash":"bi-eye"),p(),g("ngIf",s.valid&&s.dirty),p(),g("ngIf",s.invalid&&(s.dirty||s.touched)),p(7),g("type",r.showConfirmPassword?"text":"password"),U("ngModel",r.confirmPassword),p(3),g("ngClass",r.showConfirmPassword?"bi-eye-slash":"bi-eye"),p(),g("ngIf",c.invalid&&(c.dirty||c.touched)),p(),g("ngIf",c.valid&&s.valid&&r.model.password!==r.confirmPassword),p(2),g("disabled",!i.valid||r.model.password!==r.confirmPassword)}},dependencies:[Se,ae,me,Pe,pe,fe,Ee,zt,oc,fr,Te,Ht],styles:[".card[_ngcontent-%COMP%]{transition:all .3s ease;border:none!important;border-radius:12px!important;overflow:hidden;box-shadow:0 8px 20px #0b2f6314!important}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 30px #0b2f631f!important}.card-body[_ngcontent-%COMP%]{padding:2.5rem!important}h1.h3[_ngcontent-%COMP%]{color:var(--primary-blue);font-weight:700!important;margin-bottom:.5rem;font-family:var(--font-primary)}.text-muted[_ngcontent-%COMP%]{color:var(--gray-medium)!important}.input-group-text[_ngcontent-%COMP%]{border-right:0;background-color:var(--primary-white)!important;border-color:#0b2f6333;color:var(--primary-blue)}.input-group-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--blue-80)}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-left:0;border-color:#0b2f6333;color:var(--gray-dark);padding:.75rem 1rem;font-family:var(--font-primary)}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:var(--blue-40)}.input-group[_ngcontent-%COMP%]:focus-within   .input-group-text[_ngcontent-%COMP%]{border-color:var(--blue-40)}.form-select[_ngcontent-%COMP%]{background-position:right .75rem center}.btn-outline-secondary[_ngcontent-%COMP%]{border-color:#0b2f6333;color:var(--blue-80);border-left:0}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background-color:var(--blue-20);color:var(--primary-blue);border-color:var(--blue-40)}.btn-outline-secondary[_ngcontent-%COMP%]:focus{box-shadow:none}.form-check-input[_ngcontent-%COMP%]{border-color:#0b2f634d;width:18px;height:18px}.form-check-input[_ngcontent-%COMP%]:checked{background-color:var(--primary-blue);border-color:var(--primary-blue)}.form-check-label[_ngcontent-%COMP%]{color:var(--gray-medium);margin-left:4px}.btn-primary[_ngcontent-%COMP%]{background-color:var(--primary-blue)!important;border-color:var(--primary-blue)!important;padding:.75rem 1.5rem!important;font-weight:600!important;border-radius:50px!important;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:active{background-color:var(--blue-80)!important;border-color:var(--blue-80)!important;transform:translateY(-2px);box-shadow:0 8px 15px #0b2f6333!important}.btn-primary[_ngcontent-%COMP%]:active{transform:translateY(-1px)}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:var(--blue-40)!important;border-color:var(--blue-40)!important;opacity:.7}.text-decoration-none[_ngcontent-%COMP%]{color:var(--primary-blue)!important;transition:all .2s ease}.text-decoration-none[_ngcontent-%COMP%]:hover{color:var(--primary-red)!important;text-decoration:underline!important}.alert-danger[_ngcontent-%COMP%]{background-color:var(--red-light);border-color:var(--red-40);color:var(--primary-red);border-radius:8px;border-left:4px solid var(--primary-red)}.alert[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{color:var(--primary-red);opacity:.8}.bg-light[_ngcontent-%COMP%]{background-color:var(--gray-light)!important}.text-danger[_ngcontent-%COMP%]{color:var(--primary-red)!important}.form-select[_ngcontent-%COMP%]{cursor:pointer}.form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:.5rem;color:var(--gray-dark)}.logo-container[_ngcontent-%COMP%]{margin-bottom:2rem;text-align:center}.logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;margin-bottom:1rem}.mb-3[_ngcontent-%COMP%]{margin-bottom:1.25rem!important}.mb-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.password-strength[_ngcontent-%COMP%]{height:5px;border-radius:3px;margin-top:.5rem;transition:all .3s ease}.strength-weak[_ngcontent-%COMP%]{background:linear-gradient(to right,var(--primary-red) 30%,transparent 30%)}.strength-medium[_ngcontent-%COMP%]{background:linear-gradient(to right,#ffa500 60%,transparent 60%)}.strength-strong[_ngcontent-%COMP%]{background:#28a745}"]})};var Oi=class n{constructor(t){this.http=t}apiUrl=at.apiBaseUrl+"/api/InfoUser";getHeaders(){let t=sessionStorage.getItem("token");return new Qs({"Content-Type":"application/json",Authorization:`Bearer ${t}`})}getAllInfo(t){return this.http.get(`${this.apiUrl}/all/${t}`,{headers:this.getHeaders()})}addInfo(t,e){return!e.declarant||!e.tip||!e.directorDepartament||!e.decan||!e.universitate||!e.facultate||!e.departament?(console.error("Invalid info data:",e),new Ga(r=>{r.error("Invalid info data")})):this.http.post(`${this.apiUrl}/add/${t}`,e,{headers:this.getHeaders()})}updateInfo(t,e,r){let i={old:e,new:r};return this.http.put(`${this.apiUrl}/update/${t}`,i,{headers:this.getHeaders()})}deleteInfo(t,e){return this.http.delete(`${this.apiUrl}/delete/${t}`,{headers:this.getHeaders(),body:e})}setActive(t,e){return this.http.post(`${this.apiUrl}/set-active/${t}`,e,{headers:this.getHeaders()})}unsetActive(t,e){return this.http.post(`${this.apiUrl}/unset-active/${t}`,e,{headers:this.getHeaders()})}getActiveInfo(t){return this.http.get(`${this.apiUrl}/${t}/active-info`,{headers:this.getHeaders()})}addActiveInfoToDb(t){return this.http.post(`${this.apiUrl}/${t}/add-active-info`,{},{headers:this.getHeaders()})}getInfoUserFromDb(t){return this.http.get(`${this.apiUrl}/${t}/info-user`,{headers:this.getHeaders()})}static \u0275fac=function(e){return new(e||n)(M(ot))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};function dg(n,t){if(n&1&&(l(0,"div",31),h(1),d()),n&2){let e=_(2);p(),J(" ",e.successMessage," ")}}function ug(n,t){if(n&1&&(l(0,"div",32),h(1),d()),n&2){let e=_(2);p(),J(" ",e.errorMessage," ")}}function hg(n,t){if(n&1&&(l(0,"option",39),h(1),d()),n&2){let e=t.$implicit;g("ngValue",e),p(),As(" ",e.declarant," - ",e.universitate," ",e.isActive?"(Active)":""," ")}}function pg(n,t){if(n&1){let e=z();l(0,"div")(1,"label",33),h(2,"Select Profile:"),d(),l(3,"select",34),V("ngModelChange",function(i){y(e);let o=_(2);return F(o.selectedProfile,i)||(o.selectedProfile=i),C(i)}),S("change",function(){y(e);let i=_(2);return C(i.selectedProfile&&i.onProfileSelect(i.selectedProfile))}),O(4,hg,2,4,"option",35),d(),l(5,"div",36)(6,"button",37),S("click",function(){y(e);let i=_(2);return C(i.selectedProfile&&i.setActiveProfile())}),h(7," Set Active "),d(),l(8,"button",37),S("click",function(){y(e);let i=_(2);return C(i.selectedProfile&&i.editProfile(i.selectedProfile))}),h(9," Edit Profile "),d(),l(10,"button",38),S("click",function(){y(e);let i=_(2);return C(i.addNewProfile())}),h(11," Add New Profile "),d()()()}if(n&2){let e=_(2);p(3),U("ngModel",e.selectedProfile),p(),g("ngForOf",e.profiles),p(2),g("disabled",!e.selectedProfile||e.selectedProfile.isActive),p(2),g("disabled",!e.selectedProfile)}}function fg(n,t){if(n&1){let e=z();l(0,"div",40)(1,"form",41),S("ngSubmit",function(){y(e);let i=_(2);return C(i.saveProfile())}),l(2,"input",42),V("ngModelChange",function(i){y(e);let o=_(2);return F(o.editingProfile.declarant,i)||(o.editingProfile.declarant=i),C(i)}),d(),l(3,"select",43),V("ngModelChange",function(i){y(e);let o=_(2);return F(o.editingProfile.tip,i)||(o.editingProfile.tip=i),C(i)}),l(4,"option",44),h(5,"Tip"),d(),l(6,"option",45),h(7,"Titular"),d(),l(8,"option",46),h(9,"Asociat"),d()(),l(10,"input",47),V("ngModelChange",function(i){y(e);let o=_(2);return F(o.editingProfile.directorDepartament,i)||(o.editingProfile.directorDepartament=i),C(i)}),d(),l(11,"input",48),V("ngModelChange",function(i){y(e);let o=_(2);return F(o.editingProfile.decan,i)||(o.editingProfile.decan=i),C(i)}),d(),l(12,"input",49),V("ngModelChange",function(i){y(e);let o=_(2);return F(o.editingProfile.universitate,i)||(o.editingProfile.universitate=i),C(i)}),d(),l(13,"input",50),V("ngModelChange",function(i){y(e);let o=_(2);return F(o.editingProfile.facultate,i)||(o.editingProfile.facultate=i),C(i)}),d(),l(14,"input",51),V("ngModelChange",function(i){y(e);let o=_(2);return F(o.editingProfile.departament,i)||(o.editingProfile.departament=i),C(i)}),d(),l(15,"div",52)(16,"input",53),V("ngModelChange",function(i){y(e);let o=_(2);return F(o.editingProfile.isActive,i)||(o.editingProfile.isActive=i),C(i)}),d(),l(17,"label",54),h(18,"Set Active"),d()(),l(19,"button",55),h(20,"Save"),d(),l(21,"button",56),S("click",function(){y(e);let i=_(2);return C(i.cancelEdit())}),h(22,"Cancel"),d()()()}if(n&2){let e=_(2);p(2),U("ngModel",e.editingProfile.declarant),p(),U("ngModel",e.editingProfile.tip),p(7),U("ngModel",e.editingProfile.directorDepartament),p(),U("ngModel",e.editingProfile.decan),p(),U("ngModel",e.editingProfile.universitate),p(),U("ngModel",e.editingProfile.facultate),p(),U("ngModel",e.editingProfile.departament),p(2),U("ngModel",e.editingProfile.isActive)}}function mg(n,t){if(n&1){let e=z();l(0,"div",0)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8),w(8,"img",9),d(),l(9,"span",10),h(10),d()(),w(11,"div",11),d(),l(12,"div",12)(13,"div",13)(14,"h3",14),h(15),d(),l(16,"p",15),h(17),d()(),l(18,"div",16)(19,"div",17),w(20,"i",18),l(21,"span"),h(22),d()(),l(23,"div",19),w(24,"i",20),l(25,"span"),h(26,"Member"),d()()()(),l(27,"div",21),O(28,dg,2,1,"div",22)(29,ug,2,1,"div",23)(30,pg,12,4,"div",24)(31,fg,23,8,"div",25),l(32,"div",26)(33,"a",27),S("click",function(){y(e);let i=_();return C(i.changeCredentials())}),w(34,"i",28),h(35," Change Credentials "),d(),l(36,"button",29),S("click",function(){y(e);let i=_();return C(i.logout())}),w(37,"i",30),h(38," Logout "),d()()()()()()()()}if(n&2){let e=t,r=_();p(8),Ps("alt","",e.role," profile"),p(),sr("role",e.role),p(),Y(e.role),p(5),J(" ",(r.selectedProfile==null?null:r.selectedProfile.isActive)&&(r.selectedProfile==null?null:r.selectedProfile.declarant)||e.name||"User"," "),p(2),Y(e.email),p(5),Y(e.role),p(6),g("ngIf",r.successMessage),p(),g("ngIf",r.errorMessage),p(),g("ngIf",r.profiles.length>0),p(),g("ngIf",r.editingProfile)}}function gg(n,t){n&1&&(l(0,"div",1)(1,"div",57)(2,"div",58),w(3,"i",59),d(),l(4,"h2",13),h(5,"User Information Unavailable"),d(),l(6,"p",60),h(7,"Please log in to view your profile details."),d(),l(8,"a",61),w(9,"i",62),h(10," Go to Login "),d()()())}var Ri=class n{constructor(t,e,r){this.userService=t;this.router=e;this.infoUserService=r}user$;logoutSubscription;profiles=[];selectedProfile;editingProfile;userId="";successMessage="";errorMessage="";ngOnInit(){this.user$=this.userService.user$,this.user$.pipe(ge(1)).subscribe(t=>{t&&(this.userId=String(t.id),this.loadProfiles())})}loadProfiles(){this.userId&&this.infoUserService.getAllInfo(this.userId).subscribe({next:t=>{this.profiles=t,this.selectedProfile=t.find(e=>e.isActive)||void 0},error:()=>{this.errorMessage="Could not load profiles.",setTimeout(()=>this.errorMessage="",3e3)}})}onProfileSelect(t){this.selectedProfile=t}setActiveProfile(){this.selectedProfile&&this.infoUserService.setActive(this.userId,this.selectedProfile).subscribe({next:()=>{this.successMessage="Profile set as active!",this.loadProfiles(),setTimeout(()=>this.successMessage="",3e3)},error:()=>{this.errorMessage="Could not set profile as active.",setTimeout(()=>this.errorMessage="",3e3)}})}editProfile(t){this.editingProfile=b({},t)}addNewProfile(){this.editingProfile={declarant:"",tip:"",directorDepartament:"",decan:"",universitate:"",facultate:"",departament:"",isActive:!1}}saveProfile(){this.editingProfile&&(this.selectedProfile&&this.selectedProfile!==this.editingProfile?this.infoUserService.updateInfo(this.userId,this.selectedProfile,this.editingProfile).subscribe({next:()=>{this.successMessage="Profile updated successfully!",this.editingProfile=void 0,this.loadProfiles(),setTimeout(()=>this.successMessage="",3e3)},error:()=>{this.errorMessage="Could not update profile.",setTimeout(()=>this.errorMessage="",3e3)}}):this.infoUserService.addInfo(this.userId,this.editingProfile).subscribe({next:()=>{this.successMessage="Profile added successfully!";let t=b({},this.editingProfile);this.editingProfile=void 0,this.loadProfiles(),setTimeout(()=>{let e=this.profiles.find(r=>r.declarant===t.declarant&&r.universitate===t.universitate);this.selectedProfile=e},500),setTimeout(()=>this.successMessage="",3e3)},error:()=>{this.errorMessage="Could not add profile.",setTimeout(()=>this.errorMessage="",3e3)}}))}cancelEdit(){this.editingProfile=void 0}logout(){this.logoutSubscription=this.userService.logout().pipe(ge(1)).subscribe({next:()=>{sessionStorage.removeItem("token"),this.router.navigate(["/login"])}})}changeCredentials(){}ngOnDestroy(){this.logoutSubscription?.unsubscribe()}static \u0275fac=function(e){return new(e||n)(k(Q),k(H),k(Oi))};static \u0275cmp=$({type:n,selectors:[["app-info"]],standalone:!1,decls:3,vars:3,consts:[[1,"d-flex","justify-content-center","align-items-center","min-vh-90","py-5"],[1,"d-flex","justify-content-center","align-items-center","min-vh-100"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6","col-xl-4"],[1,"card","shadow-sm","border-0","rounded-3","overflow-hidden"],[1,"text-center","profile-header","pt-4","pb-2"],[1,"circular-profile-container"],[1,"circular-profile-image"],["src","img/user-profile-icon.png",3,"alt"],[1,"badge","role-badge"],[1,"profile-separator"],[1,"card-body","p-4","text-center"],[1,"mb-3"],[1,"fw-bold"],[1,"text-muted","mb-0"],[1,"d-flex","justify-content-center","mb-4"],[1,"px-3","py-2","border","rounded-pill","me-2"],[1,"bi","bi-person-circle","me-1"],[1,"px-3","py-2","border","rounded-pill"],[1,"bi","bi-calendar3","me-1"],[1,"card-body","border-top","pt-4"],["class","alert alert-success text-center my-2",4,"ngIf"],["class","alert alert-danger text-center my-2",4,"ngIf"],[4,"ngIf"],["class","border border-primary rounded p-3 mb-3",4,"ngIf"],[1,"d-flex","flex-column","gap-3","mt-3"],[1,"btn","btn-outline-primary","d-flex","align-items-center","justify-content-center",3,"click"],[1,"bi","bi-gear","me-2"],["type","button",1,"btn","btn-danger","d-flex","align-items-center","justify-content-center",3,"click"],[1,"bi","bi-box-arrow-right","me-2"],[1,"alert","alert-success","text-center","my-2"],[1,"alert","alert-danger","text-center","my-2"],["for","profileSelect"],["id","profileSelect",1,"form-select","mb-3",3,"ngModelChange","change","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"d-flex","gap-2","mb-3"],[1,"btn","btn-primary",3,"click","disabled"],[1,"btn","btn-primary",3,"click"],[3,"ngValue"],[1,"border","border-primary","rounded","p-3","mb-3"],[3,"ngSubmit"],["name","declarant","placeholder","Declarant","required","",1,"form-control","mb-2",3,"ngModelChange","ngModel"],["name","tip","required","",1,"form-control","mb-2",3,"ngModelChange","ngModel"],["value","","disabled","","selected","","hidden",""],["value","Titular"],["value","Asociat"],["name","directorDepartament","placeholder","Director Departament",1,"form-control","mb-2",3,"ngModelChange","ngModel"],["name","decan","placeholder","Decan",1,"form-control","mb-2",3,"ngModelChange","ngModel"],["name","universitate","placeholder","Universitate",1,"form-control","mb-2",3,"ngModelChange","ngModel"],["name","facultate","placeholder","Facultate",1,"form-control","mb-2",3,"ngModelChange","ngModel"],["name","departament","placeholder","Departament",1,"form-control","mb-2",3,"ngModelChange","ngModel"],[1,"form-check","mb-2"],["type","checkbox","name","isActive","id","isActiveCheck",1,"form-check-input",3,"ngModelChange","ngModel"],["for","isActiveCheck",1,"form-check-label"],["type","submit",1,"btn","btn-primary","me-2"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-center"],[1,"mb-4"],[1,"bi","bi-exclamation-circle","text-warning",2,"font-size","3rem"],[1,"lead","mb-4"],["routerLink","/login",1,"btn","btn-primary","px-4","py-2"],[1,"bi","bi-box-arrow-in-right","me-2"]],template:function(e,r){if(e&1&&(O(0,mg,39,11,"div",0),dr(1,"async"),O(2,gg,11,0,"div",1)),e&2){let i;lr((i=Ds(1,1,r.user$))?0:2,i)}},dependencies:[rt,ae,me,Pe,ct,lt,pe,tc,st,fe,Ee,zt,Te,Ht,Gs],styles:[".min-vh-90[_ngcontent-%COMP%]{min-height:90vh}.card[_ngcontent-%COMP%]{transition:all .3s ease;max-width:450px;margin:0 auto;font-family:var(--font-primary);border:none!important;border-radius:var(--border-radius)!important;box-shadow:var(--shadow-light);overflow:hidden;background-color:var(--primary-white)}.card[_ngcontent-%COMP%]:hover{transform:translateY(-7px);box-shadow:var(--shadow-hover)!important}.profile-header[_ngcontent-%COMP%]{position:relative;padding:1.5rem 0;background-color:var(--primary-white)}.circular-profile-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.circular-profile-image[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;overflow:hidden;margin:0 auto 1rem;box-shadow:0 4px 15px #0b2f6326;border:4px solid var(--primary-white);position:relative;z-index:2;transition:all .3s ease}.circular-profile-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;background-color:var(--blue-20)}.card[_ngcontent-%COMP%]:hover   .circular-profile-image[_ngcontent-%COMP%]{transform:scale(1.05)}.profile-separator[_ngcontent-%COMP%]{height:2px;background-color:var(--primary-red);width:80%;margin:.5rem auto 0;position:relative}.role-badge[_ngcontent-%COMP%]{position:absolute;bottom:-10px;right:-10px;z-index:3;background-color:var(--primary-blue)!important;color:var(--primary-white);font-size:.75rem;padding:.35rem .8rem;border-radius:var(--border-radius-pill);box-shadow:0 3px 8px #0b2f6333;text-transform:capitalize}.badge[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500;padding:.5rem 1rem;background-color:var(--primary-blue)!important;border-radius:var(--border-radius-pill);box-shadow:0 3px 8px #0b2f6333;letter-spacing:.02em;text-transform:capitalize;color:var(--primary-white)}.badge[role=admin][_ngcontent-%COMP%]{background-color:var(--primary-blue)!important}.badge[role=user][_ngcontent-%COMP%]{background-color:var(--success-green)!important}.badge[role=editor][_ngcontent-%COMP%]{background-color:var(--blue-60)!important}.card-body[_ngcontent-%COMP%]{padding:1.75rem!important}.fw-bold[_ngcontent-%COMP%]{font-weight:700!important;color:var(--primary-blue);font-size:1.75rem;margin-bottom:.5rem}.text-muted[_ngcontent-%COMP%]{color:var(--gray-medium)!important;font-size:1rem}.rounded-pill[_ngcontent-%COMP%]{border-radius:var(--border-radius-pill)!important;font-size:.9rem;padding:.5rem 1.25rem!important;border:1px solid rgba(11,47,99,.15)!important;color:var(--blue-80)!important;background-color:#c9d3e74d;transition:all .3s ease;font-weight:500}.rounded-pill[_ngcontent-%COMP%]:hover{background-color:#c9d3e780;border-color:#0b2f6340!important;transform:translateY(-2px)}.bi[_ngcontent-%COMP%]{color:var(--primary-blue)}.border-top[_ngcontent-%COMP%]{border-top:1px solid rgba(11,47,99,.1)!important}.btn[_ngcontent-%COMP%]{transition:all .3s ease;border-radius:var(--border-radius-pill);padding:.75rem 1.5rem;font-weight:500;font-size:1rem;letter-spacing:.01em;box-shadow:0 2px 5px #0000000d}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:all .3s ease}.btn-outline-primary[_ngcontent-%COMP%]{color:var(--primary-blue)!important;border:2px solid var(--primary-blue)!important;background-color:transparent}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:var(--blue-20)!important;color:var(--primary-blue)!important;transform:translateY(-3px);box-shadow:0 5px 15px #0b2f6326}.btn-outline-primary[_ngcontent-%COMP%]:hover   i.bi-gear[_ngcontent-%COMP%]{transform:rotate(15deg)}.btn-outline-primary[_ngcontent-%COMP%]:active{transform:translateY(-1px);box-shadow:0 2px 8px #0b2f631a}.btn-danger[_ngcontent-%COMP%]{background-color:var(--primary-red)!important;border:2px solid var(--primary-red)!important;color:var(--primary-white)!important}.btn-danger[_ngcontent-%COMP%]:hover{background-color:var(--red-80)!important;border-color:var(--red-80)!important;transform:translateY(-3px);box-shadow:0 5px 15px #f0213733}.btn-danger[_ngcontent-%COMP%]:hover   i.bi-box-arrow-right[_ngcontent-%COMP%]{transform:translate(3px)}.btn-danger[_ngcontent-%COMP%]:active{transform:translateY(-1px);box-shadow:0 2px 8px #f0213726}.min-vh-100[_ngcontent-%COMP%]{min-height:100vh;background-color:var(--gray-light)}.min-vh-100[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{background-color:var(--primary-white);border-radius:var(--border-radius);padding:3rem 2rem;max-width:450px;box-shadow:var(--shadow-light)}.text-warning[_ngcontent-%COMP%]{color:var(--primary-red)!important}.lead[_ngcontent-%COMP%]{color:var(--gray-medium);font-size:1.1rem;font-weight:400}h2[_ngcontent-%COMP%]{color:var(--primary-blue);font-weight:600;font-size:1.8rem}.min-vh-100[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:var(--primary-blue)!important;border-color:var(--primary-blue)!important;padding:.75rem 2rem;transition:all .3s ease}.min-vh-100[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--blue-80)!important;border-color:var(--blue-80)!important;transform:translateY(-3px);box-shadow:0 5px 15px #0b2f6333}.min-vh-90[_ngcontent-%COMP%], .min-vh-100[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}.text-warning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.bi-exclamation-circle[_ngcontent-%COMP%]{color:var(--primary-red)!important;filter:drop-shadow(0 4px 6px rgba(240,33,55,.2))}@media (max-width: 576px){.fw-bold[_ngcontent-%COMP%]{font-size:1.5rem}.card-body[_ngcontent-%COMP%]{padding:1.25rem!important}.d-flex.flex-column.gap-3[_ngcontent-%COMP%]{gap:1rem!important}.rounded-pill[_ngcontent-%COMP%]{font-size:.8rem;padding:.4rem 1rem!important}.circular-profile-image[_ngcontent-%COMP%]{width:100px;height:100px}.role-badge[_ngcontent-%COMP%]{font-size:.7rem;padding:.25rem .7rem}}"]})};var Ze=class n{constructor(t,e){this.userService=t;this.router=e}canActivate(){return this.userService.user$.pipe(ge(1),N(t=>t?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(e){return new(e||n)(M(Q),M(H))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};var Mi=class n{constructor(t){this.router=t}goToHome(){this.router.navigate(["/"])}static \u0275fac=function(e){return new(e||n)(k(H))};static \u0275cmp=$({type:n,selectors:[["app-not-found"]],standalone:!1,decls:15,vars:0,consts:[[1,"container-fluid","py-5"],[1,"row"],[1,"col-md-8","col-lg-6","mx-auto","text-center"],[1,"mt-5"],[1,"display-1","fw-bold","text-danger"],[1,"my-4"],[1,"mb-4"],[1,"lead","text-muted"],[1,"my-5"],[1,"btn","btn-primary","btn-lg","me-3",3,"click"],[1,"bi","bi-house-door","me-2"]],template:function(e,r){e&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),h(5,"404"),d(),l(6,"div",5)(7,"h2",6),h(8,"PAGE NOT FOUND"),d(),l(9,"p",7),h(10,"We couldn't find the page you were looking for."),d()(),l(11,"div",8)(12,"a",9),S("click",function(){return r.goToHome()}),w(13,"i",10),h(14,"Back to Home "),d()()()()()())},encapsulation:2})};var Ai=class n{constructor(t){this.http=t}cache=new Map;getPublicHolidays(t){if(this.cache.has(t))return this.cache.get(t);let e=this.http.get(`/api/Holidays/${t}`).pipe(Qa(1));return this.cache.set(t,e),e}getHolidayDates(t){return this.getPublicHolidays(t).pipe(N(e=>e.map(r=>new Date(r.date))))}getWorkingDays(t,e,r){return this.http.get(`/api/WorkingDays/${t}/${e}/${r}`)}genereazaDeclaratie(t,e){return this.http.post(`/api/declaratie/genereaza?userId=${encodeURIComponent(t)}`,e,{responseType:"blob"})}static \u0275fac=function(e){return new(e||n)(M(ot))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};var _g=(n,t)=>({"badge bg-success":n,"badge bg-warning text-dark":t});function bg(n,t){if(n&1&&(tt(0),h(1),nt()),n&2){let e=_().$implicit,r=_(2);p(),J(" ",r.getParityDisplay(e.parity)," ")}}function yg(n,t){if(n&1){let e=z();l(0,"tr")(1,"td"),h(2),dr(3,"date"),d(),l(4,"td"),h(5),d(),l(6,"td")(7,"select",21),V("ngModelChange",function(i){let o=y(e).$implicit;return F(o.workDayStatus,i)||(o.workDayStatus=i),C(i)}),S("ngModelChange",function(i){let o=y(e).$implicit,a=_(2);return C(a.onWorkDayChange(o,i))}),l(8,"option",22),h(9,"--"),d(),l(10,"option",23),h(11,"Zi lucratoare"),d(),l(12,"option",24),h(13,"Zi nelucratoare"),d()()(),l(14,"td"),O(15,bg,2,1,"ng-container",25),d()()}if(n&2){let e=t.$implicit,r=_(2);p(2),Y(Ns(3,5,e.date,"dd.MM.yyyy")),p(3),Y(e.dayOfWeek),p(2),U("ngModel",e.workDayStatus),g("disabled",r.status==="Validat"),p(8),g("ngIf",e.isWorkingDay&&e.parity)}}function Cg(n,t){if(n&1&&(l(0,"div",17)(1,"table",18)(2,"thead",19)(3,"tr")(4,"th"),h(5,"Data"),d(),l(6,"th"),h(7,"Zi s\u0103pt\u0103m\xE2n\u0103"),d(),l(8,"th"),h(9,"Zi lucr\u0103toare"),d(),l(10,"th"),h(11,"Par / \xCEmpar"),d()()(),l(12,"tbody"),O(13,yg,16,8,"tr",20),d()()()),n&2){let e=_();p(13),g("ngForOf",e.calendarData)}}function wg(n,t){n&1&&(l(0,"div",26)(1,"div",27)(2,"span",28),h(3,"Loading..."),d()()())}var cn=class n{constructor(t,e,r){this.fb=t;this.holidayService=e;this.userService=r;let i=new Date,o=new Date(i.getFullYear(),i.getMonth(),1),a=new Date(i.getFullYear(),i.getMonth()+1,0);this.filterForm=this.fb.group({startDate:[this.toISODateString(o)],endDate:[this.toISODateString(a)]})}calendarData=[];filterForm;loading=!1;status="Editare";userId=null;get startDateControl(){return this.filterForm.get("startDate")}get endDateControl(){return this.filterForm.get("endDate")}ngOnInit(){this.userId=this.userService.getUserId(),this.generateCalendar()}generateCalendar(){this.loading=!0,this.holidayService.getWorkingDays(this.userId,this.startDateControl.value,this.endDateControl.value).subscribe({next:t=>{console.log("Zile primite:",t),this.calendarData=t.map(e=>G(b({},e),{date:new Date(e.date),workDayStatus:e.isWorkingDay?"Zi lucratoare":"Zi nelucratoare",parityType:e.parity})),this.loading=!1,this.status="Editare"},error:()=>{this.loading=!1}})}onWorkDayChange(t,e){t.workDayStatus=e,t.isWorkingDay=e==="Zi lucratoare",this.status="Editare"}getParityDisplay(t){return t==="par"?"Par\u0103":t==="impar"?"Impar\u0103":""}onDateChange(){this.status="Editare"}validateCalendar(){this.calendarData.length>0&&(this.status="Validat")}toISODateString(t){return t.toISOString().substring(0,10)}generatePdf(){if(!this.userId){alert("User ID not found!");return}let t=this.calendarData.filter(e=>e.workDayStatus==="Zi lucratoare").map(e=>e.date);if(t.length===0){alert("Nu exist\u0103 zile lucrate selectate.");return}this.holidayService.genereazaDeclaratie(this.userId,t).subscribe({next:e=>{let r=new Blob([e],{type:"application/pdf"}),i=window.URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download="declaratie.pdf",o.click(),window.URL.revokeObjectURL(i)},error:e=>{alert("Eroare la generarea PDF: "+e.message)}})}static \u0275fac=function(e){return new(e||n)(k(mr),k(Ai),k(Q))};static \u0275cmp=$({type:n,selectors:[["app-calendar"]],decls:26,vars:14,consts:[[1,"container","my-4","calendar-container"],[1,"mb-4"],[1,"row","g-3","align-items-center","mb-3",3,"formGroup"],[1,"col-auto"],["for","startDate",1,"form-label"],["id","startDate","type","date",1,"form-control",3,"change","formControl","disabled"],["for","endDate",1,"form-label"],["id","endDate","type","date",1,"form-control",3,"change","formControl","disabled"],[1,"col-auto","d-flex","align-items-end"],["type","button",1,"btn","btn-primary","me-2",3,"click","disabled"],["type","button","title","Genereaz\u0103 calendarul \xEEnainte de validare",1,"btn","btn-success","me-2",3,"click","disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"col-auto","ms-auto"],[1,"fw-semibold"],[3,"ngClass"],["class","table-responsive",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered","align-middle"],[1,"table-dark"],[4,"ngFor","ngForOf"],[1,"form-select","form-select-sm",3,"ngModelChange","ngModel","disabled"],["value",""],["value","Zi lucratoare"],["value","Zi nelucratoare"],[4,"ngIf"],[1,"text-center","mt-3"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(e,r){e&1&&(l(0,"div",0)(1,"h3",1),h(2,"Propune Date (\xEEnceput \u0219i sf\xE2r\u0219it lun\u0103 curent\u0103)"),d(),l(3,"form",2)(4,"div",3)(5,"label",4),h(6,"De la:"),d(),l(7,"input",5),S("change",function(){return r.onDateChange()}),d()(),l(8,"div",3)(9,"label",6),h(10,"P\xE2n\u0103 la:"),d(),l(11,"input",7),S("change",function(){return r.onDateChange()}),d()(),l(12,"div",8)(13,"button",9),S("click",function(){return r.generateCalendar()}),h(14," Generare Calendar "),d(),l(15,"button",10),S("click",function(){return r.validateCalendar()}),h(16," Valideaz\u0103 Calendar "),d(),l(17,"button",11),S("click",function(){return r.generatePdf()}),h(18," Genereaz\u0103 PO "),d()(),l(19,"div",12)(20,"span",13),h(21,"Stare: "),d(),l(22,"span",14),h(23),d()()(),O(24,Cg,14,1,"div",15)(25,wg,4,0,"div",16),d()),e&2&&(p(3),g("formGroup",r.filterForm),p(4),g("formControl",r.startDateControl)("disabled",r.status==="Validat"),p(4),g("formControl",r.endDateControl)("disabled",r.status==="Validat"),p(2),g("disabled",r.status==="Validat"),p(2),g("disabled",r.status==="Validat"||r.calendarData.length===0),p(7),g("ngClass",ks(11,_g,r.status==="Validat",r.status==="Editare")),p(),J(" ",r.status==="Validat"?"Validat":"\xCEn editare"," "),p(),g("ngIf",r.calendarData.length>0),p(),g("ngIf",r.loading))},dependencies:[it,Se,rt,ae,Ks,gr,Pe,ct,lt,pe,st,fe,Ee,Te,vr,rc,pr],styles:[".calendar-container[_ngcontent-%COMP%]{background-color:#f9fafb;padding:1.5rem;border-radius:.5rem;max-width:900px;margin:2rem auto;box-shadow:0 4px 12px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0;background-color:#fff;border-radius:8px;overflow:hidden;box-shadow:0 2px 6px #0000001a}thead[_ngcontent-%COMP%]{background-color:#2c3e50;color:#ecf0f1;font-weight:700}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:2px solid #34495e}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .3s ease}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f6fa}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#dbe9f7}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;border-bottom:1px solid #e1e8ed;vertical-align:middle}select.form-select-sm[_ngcontent-%COMP%]{padding:5px 10px;border-radius:4px;border:1px solid #ced4da;font-size:.9rem;transition:border-color .2s ease}select.form-select-sm[_ngcontent-%COMP%]:focus{border-color:#0d6efd;outline:none;box-shadow:0 0 5px #0d6efd80}.badge.bg-primary[_ngcontent-%COMP%]{background-color:#3498db!important;font-weight:600}.badge.bg-info.text-dark[_ngcontent-%COMP%]{background-color:#1abc9c!important;color:#fff!important;font-weight:600}.badge.bg-success[_ngcontent-%COMP%]{background-color:#28a745!important}.badge.bg-warning.text-dark[_ngcontent-%COMP%]{background-color:#f0ad4e!important;color:#212529!important}.btn-primary[_ngcontent-%COMP%]{background-color:#2874a6;border:none;transition:background-color .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#1b4f72}@media (max-width: 600px){.calendar-container[_ngcontent-%COMP%]{padding:1rem}table[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{display:block}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:none}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{margin-bottom:1rem;border-radius:6px;box-shadow:0 0 5px #0000001a;background:#fff;padding:1rem}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem 0;border-bottom:none;position:relative;padding-left:50%}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);position:absolute;left:1rem;top:.5rem;font-weight:600;color:#555;white-space:nowrap}}"]})};var Ig=(n,t)=>t.title;function Sg(n,t){n&1&&(l(0,"span",9),h(1,"Disponibil"),d(),w(2,"i",10))}function Eg(n,t){n&1&&(l(0,"span",11),h(1,"\xCEn cur\xE2nd"),d(),w(2,"i",12))}function Tg(n,t){if(n&1){let e=z();l(0,"div",5),S("click",function(){let i=y(e).$implicit,o=_();return C(o.navigateToFeature(i.route,i.available))}),l(1,"div",6),w(2,"i"),d(),l(3,"div",7)(4,"h3"),h(5),d(),l(6,"p"),h(7),d()(),l(8,"div",8),O(9,Sg,3,0)(10,Eg,3,0),d()()}if(n&2){let e=t.$implicit;cr("disabled",!e.available),p(2),Ss(e.icon),p(3),Y(e.title),p(2),Y(e.description),p(2),lr(e.available?9:10)}}var ki=class n{constructor(t,e){this.router=t;this.userService=e}user;getLoggedInUserSubscription;features=[{title:"Calendar Academic",description:"Vizualiza\u021Bi calendarul cu zilele lucr\u0103toare \u0219i s\u0103pt\u0103m\xE2nile academice",icon:"bi bi-calendar-week",route:"/calendar",available:!0},{title:"Profil",description:"Gestiona\u021Bi datele profilului dvs.",icon:"bi bi-person-circle",route:"/user-profile",available:!0},{title:"Orar",description:"Vizualiza\u021Bi \u0219i edita\u021Bi lista orelor ",icon:"bi bi-clock-history",route:"/orar",available:!0},{title:"Structura an universitar",description:"Vizualiza\u021Bi \u0219i edita\u021Bi structura anului universitar ",icon:"bi bi-clipboard",route:"/structura-an",available:!0}];ngOnInit(){this.getLoggedInUserSubscription=this.userService.getLoggedInUser().subscribe(t=>{this.user=t})}getDisplayName(){return this.user?.displayName||"Utilizator"}ngOnDestroy(){this.getLoggedInUserSubscription?.unsubscribe()}navigateToFeature(t,e){e&&this.router.navigate([t])}static \u0275fac=function(e){return new(e||n)(k(H),k(Q))};static \u0275cmp=$({type:n,selectors:[["app-homepage"]],decls:9,vars:0,consts:[[1,"homepage-container"],[1,"welcome-header"],[1,"subtitle"],[1,"feature-grid"],[1,"feature-tile",3,"disabled"],[1,"feature-tile",3,"click"],[1,"feature-icon"],[1,"feature-content"],[1,"feature-action"],[1,"availability","available"],[1,"bi","bi-arrow-right-circle"],[1,"availability","coming-soon"],[1,"bi","bi-clock"]],template:function(e,r){e&1&&(l(0,"div",0)(1,"header",1)(2,"h1"),h(3,"Bine a\u021Bi venit!"),d(),l(4,"p",2),h(5,"Ce dori\u021Bi s\u0103 face\u021Bi ast\u0103zi?"),d()(),l(6,"div",3),Es(7,Tg,11,8,"div",4,Ig),d()()),e&2&&(p(7),Ts(r.features))},dependencies:[it],styles:['[_ngcontent-%COMP%]:root{--primary-blue: #0b2f63;--primary-red: #f02137;--primary-white: #ffffff;--blue-80: #3e578d;--blue-60: #6780a7;--blue-40: #94a9c7;--blue-20: #c9d3e7;--red-light: #f8d2d6;--gray-dark: #505050;--gray-medium: #767676;--gray-light: #f5f5f5;--success-green: #10a0b6;--coming-soon-color: #9f00a6;--shadow-light: 0 4px 12px rgba(11, 47, 99, .08);--shadow-medium: 0 8px 24px rgba(11, 47, 99, .12);--font-primary: Helvetica, "Helvetica Narrow", Arial, sans-serif}.homepage-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto;font-family:var(--font-primary);color:var(--gray-dark);background-color:var(--primary-white)}.welcome-header[_ngcontent-%COMP%]{margin-bottom:2.5rem;text-align:center;position:relative;padding-bottom:1.5rem}.welcome-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:80px;height:3px;background-color:var(--primary-red)}.welcome-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:var(--primary-blue);margin-bottom:.5rem;letter-spacing:-.02em}.subtitle[_ngcontent-%COMP%]{font-size:1.3rem;color:var(--gray-medium);font-weight:400}.feature-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.75rem;margin-bottom:3rem}.feature-tile[_ngcontent-%COMP%]{background-color:var(--primary-white);border-radius:12px;padding:1.75rem;box-shadow:var(--shadow-light);transition:transform .3s ease,box-shadow .3s ease;display:flex;flex-direction:column;height:100%;cursor:pointer;position:relative;overflow:hidden;border:1px solid rgba(11,47,99,.05)}.feature-tile[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:var(--shadow-medium);border-color:#0b2f631a}.feature-tile[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:5px;height:100%;background-color:var(--primary-blue);transition:width .3s ease}.feature-tile[_ngcontent-%COMP%]:hover:before{width:7px}.feature-tile.disabled[_ngcontent-%COMP%]{opacity:.75;cursor:not-allowed}.feature-tile.disabled[_ngcontent-%COMP%]:before{background-color:var(--gray-medium)}.feature-tile.disabled[_ngcontent-%COMP%]:hover{transform:none;box-shadow:var(--shadow-light)}.feature-icon[_ngcontent-%COMP%]{font-size:2.2rem;margin-bottom:1.25rem;color:var(--primary-blue);transition:transform .3s ease}.feature-tile[_ngcontent-%COMP%]:hover   .feature-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.feature-content[_ngcontent-%COMP%]{flex-grow:1}.feature-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600;margin-bottom:.75rem;color:var(--primary-blue);transition:color .3s ease}.feature-tile[_ngcontent-%COMP%]:hover   .feature-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--blue-80)}.feature-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gray-medium);font-size:1rem;line-height:1.6}.feature-action[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:1.75rem;padding-top:1rem;border-top:1px solid rgba(11,47,99,.1)}.feature-action[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--primary-blue);transition:transform .3s ease,color .3s ease}.feature-tile[_ngcontent-%COMP%]:hover   .feature-action[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:translate(5px);color:var(--primary-red)}.availability[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500;padding:.35rem .85rem;border-radius:20px;transition:background-color .3s ease,color .3s ease}.available[_ngcontent-%COMP%]{background-color:#10a0b626;color:var(--success-green)}.feature-tile[_ngcontent-%COMP%]:hover   .available[_ngcontent-%COMP%]{background-color:#10a0b640}.coming-soon[_ngcontent-%COMP%]{background-color:#9f00a626;color:var(--coming-soon-color)}.feature-tile[_ngcontent-%COMP%]:hover   .coming-soon[_ngcontent-%COMP%]{background-color:#9f00a640}.quick-stats[_ngcontent-%COMP%]{background-color:var(--blue-20);border-radius:12px;padding:2rem;box-shadow:var(--shadow-light)}.quick-stats[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:600;margin-bottom:1.75rem;color:var(--primary-blue);text-align:center;position:relative;padding-bottom:1rem}.quick-stats[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:60px;height:3px;background-color:var(--primary-red)}.stats-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;gap:1.5rem}.stat-card[_ngcontent-%COMP%]{background-color:var(--primary-white);border-radius:10px;padding:1.5rem;min-width:160px;flex:1;text-align:center;box-shadow:var(--shadow-light);transition:transform .3s ease;border:1px solid rgba(11,47,99,.05)}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.stat-value[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:700;color:var(--primary-blue);margin-bottom:.75rem}.stat-label[_ngcontent-%COMP%]{font-size:1rem;color:var(--gray-medium);font-weight:500}@media (max-width: 768px){.homepage-container[_ngcontent-%COMP%]{padding:1.25rem}.feature-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.stats-container[_ngcontent-%COMP%]{flex-direction:column}.welcome-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.welcome-header[_ngcontent-%COMP%]:after{width:60px}}']})};var Xn=n=>({invalid:n});function Pg(n,t){if(n&1&&(l(0,"div",30),h(1),d()),n&2){let e=_();p(),J(" ",e.successMessage," ")}}function Og(n,t){if(n&1&&(l(0,"div",31),h(1),d()),n&2){let e=_();p(),J(" ",e.errorMessage," ")}}function Rg(n,t){n&1&&(l(0,"div",32),h(1," Numele este obligatoriu "),d())}function Mg(n,t){if(n&1&&(l(0,"option",33),h(1),d()),n&2){let e=t.$implicit;g("value",e),p(),J(" ",e," ")}}function Ag(n,t){n&1&&(l(0,"div",32),h(1," Tipul declara\u021Biei este obligatoriu "),d())}function kg(n,t){n&1&&(l(0,"div",32),h(1," Universitatea este obligatorie "),d())}function xg(n,t){n&1&&(l(0,"div",32),h(1," Facultatea este obligatorie "),d())}function Dg(n,t){n&1&&(l(0,"div",32),h(1," Departamentul este obligatoriu "),d())}var xi=class n{constructor(t,e){this.fb=t;this.router=e}declarationForm;documentTypes=["Adeverin\u021B\u0103","Declara\u021Bie","Cerere"];successMessage="";errorMessage="";ngOnInit(){this.initForm()}initForm(){this.declarationForm=this.fb.group({declarant:["",jt.required],tip:["",jt.required],directorDepartament:[""],decan:[""],universitate:["",jt.required],facultate:["",jt.required],departament:["",jt.required]})}onSubmit(){this.declarationForm.valid?(console.log("Form values:",this.declarationForm.value),this.successMessage="Formularul a fost printat \xEEn consol\u0103!",this.errorMessage=""):(this.errorMessage="V\u0103 rug\u0103m s\u0103 completa\u021Bi toate c\xE2mpurile obligatorii.",this.successMessage="",this.markFormGroupTouched(this.declarationForm))}onCancel(){this.router.navigate(["/"])}markFormGroupTouched(t){Object.values(t.controls).forEach(e=>{e.markAsTouched(),e instanceof nc&&this.markFormGroupTouched(e)})}isFieldInvalid(t){let e=this.declarationForm.get(t);return e?e.invalid&&(e.dirty||e.touched):!1}isFieldRequired(t){let e=this.declarationForm.get(t);return e?e.hasError("required")&&(e.dirty||e.touched):!1}static \u0275fac=function(e){return new(e||n)(k(mr),k(H))};static \u0275cmp=$({type:n,selectors:[["app-declaration-generator"]],standalone:!1,decls:54,vars:24,consts:[[1,"container"],[1,"card"],[1,"card-header"],[1,"card-content"],["class","alert success",4,"ngIf"],["class","alert error",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"form-container"],[1,"form-group"],["for","declarant"],["type","text","id","declarant","formControlName","declarant","placeholder","Ex. Ion Popescu",1,"form-control",3,"ngClass"],["class","error-message",4,"ngIf"],[1,"form-row"],["for","tip"],["id","tip","formControlName","tip",1,"form-control",3,"ngClass"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","universitate"],["type","text","id","universitate","formControlName","universitate","placeholder","Ex. Universitatea din Bucure\u0219ti",1,"form-control",3,"ngClass"],["for","facultate"],["type","text","id","facultate","formControlName","facultate","placeholder","Ex. Facultatea de Informatic\u0103",1,"form-control",3,"ngClass"],["for","departament"],["type","text","id","departament","formControlName","departament","placeholder","Ex. Departamentul de Informatic\u0103",1,"form-control",3,"ngClass"],["for","directorDepartament"],["type","text","id","directorDepartament","formControlName","directorDepartament","placeholder","Ex. Prof. Dr. Ana Ionescu",1,"form-control"],["for","decan"],["type","text","id","decan","formControlName","decan","placeholder","Ex. Prof. Dr. Mihai Dinu",1,"form-control"],[1,"button-container"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"alert","success"],[1,"alert","error"],[1,"error-message"],[3,"value"]],template:function(e,r){e&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),h(4,"Generare Declara\u021Bie"),d()(),l(5,"div",3),O(6,Pg,2,1,"div",4)(7,Og,2,1,"div",5),l(8,"form",6),S("ngSubmit",function(){return r.onSubmit()}),l(9,"div",7)(10,"div",8)(11,"label",9),h(12,"Nume Complet Declarant*"),d(),w(13,"input",10),O(14,Rg,2,0,"div",11),d(),l(15,"div",12)(16,"div",8)(17,"label",13),h(18,"Tip Declara\u021Bie*"),d(),l(19,"select",14)(20,"option",15),h(21,"Selecta\u021Bi tipul"),d(),O(22,Mg,2,2,"option",16),d(),O(23,Ag,2,0,"div",11),d(),l(24,"div",8)(25,"label",17),h(26,"Universitate*"),d(),w(27,"input",18),O(28,kg,2,0,"div",11),d()(),l(29,"div",12)(30,"div",8)(31,"label",19),h(32,"Facultate*"),d(),w(33,"input",20),O(34,xg,2,0,"div",11),d(),l(35,"div",8)(36,"label",21),h(37,"Departament*"),d(),w(38,"input",22),O(39,Dg,2,0,"div",11),d()(),l(40,"div",12)(41,"div",8)(42,"label",23),h(43,"Director Departament"),d(),w(44,"input",24),d(),l(45,"div",8)(46,"label",25),h(47,"Decan"),d(),w(48,"input",26),d()()(),l(49,"div",27)(50,"button",28),S("click",function(){return r.onCancel()}),h(51,"Anuleaz\u0103"),d(),l(52,"button",29),S("click",function(){return r.onSubmit()}),h(53," Genereaza Declaratie "),d()()()()()()),e&2&&(p(6),g("ngIf",r.successMessage),p(),g("ngIf",r.errorMessage),p(),g("formGroup",r.declarationForm),p(5),g("ngClass",Ut(14,Xn,r.isFieldInvalid("declarant"))),p(),g("ngIf",r.isFieldRequired("declarant")),p(5),g("ngClass",Ut(16,Xn,r.isFieldInvalid("tip"))),p(3),g("ngForOf",r.documentTypes),p(),g("ngIf",r.isFieldRequired("tip")),p(4),g("ngClass",Ut(18,Xn,r.isFieldInvalid("universitate"))),p(),g("ngIf",r.isFieldRequired("universitate")),p(5),g("ngClass",Ut(20,Xn,r.isFieldInvalid("facultate"))),p(),g("ngIf",r.isFieldRequired("facultate")),p(4),g("ngClass",Ut(22,Xn,r.isFieldInvalid("departament"))),p(),g("ngIf",r.isFieldRequired("departament")))},dependencies:[Se,rt,ae,Pe,ct,lt,pe,st,fe,Ee,pr,ic],styles:[`.container[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;padding:0 1rem}.card[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 2px 8px #0000001a;background-color:#fff;overflow:hidden}.card-header[_ngcontent-%COMP%]{padding:1.25rem;background-color:#f8f9fa;border-bottom:1px solid #e9ecef}.card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#343a40;font-size:1.5rem;font-weight:500}.card-content[_ngcontent-%COMP%]{padding:1.5rem}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.25rem;margin-bottom:.5rem}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1 1 calc(50% - .625rem);min-width:250px}label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-weight:500;color:#495057}.form-control[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #ced4da;border-radius:4px;font-size:1rem;transition:border-color .15s ease-in-out}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#80bdff;box-shadow:0 0 0 .2rem #007bff40}.form-control.invalid[_ngcontent-%COMP%]{border-color:#dc3545}.form-control[_ngcontent-%COMP%]::placeholder{color:#adb5bd}select.form-control[_ngcontent-%COMP%]{appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;padding-right:2.5rem}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.875rem;margin-top:.25rem}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:2rem;gap:1rem}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:4px;font-weight:500;cursor:pointer;transition:all .15s ease-in-out;border:none}.btn[_ngcontent-%COMP%]:disabled{opacity:.65;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0069d9}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}.alert[_ngcontent-%COMP%]{padding:1rem;margin-bottom:1.5rem;border-radius:4px}.success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border-left:4px solid #28a745}.error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border-left:4px solid #dc3545}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{flex-direction:column}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:100%}.button-container[_ngcontent-%COMP%]{flex-direction:column-reverse}.btn[_ngcontent-%COMP%]{width:100%}}`]})};var Di=class n{constructor(t){this.http=t}baseUrl=at.apiBaseUrl+"/api/ParitateSapt";getParitate(t){return this.http.get(`${this.baseUrl}/${t}`)}addOrUpdate(t,e){return this.http.post(`${this.baseUrl}/${t}`,e)}update(t,e,r){return this.http.put(`${this.baseUrl}/${t}`,{oldEntry:e,newEntry:r})}delete(t,e){return this.http.request("delete",`${this.baseUrl}/${t}`,{body:e})}static \u0275fac=function(e){return new(e||n)(M(ot))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};function Lg(n,t){if(n&1){let e=z();l(0,"div",6)(1,"p",7),h(2,"Nu exist\u0103 date pentru structura semestrului."),d(),l(3,"button",8),S("click",function(){y(e);let i=_();return C(i.startAdd())}),h(4,"Adaug\u0103 prima s\u0103pt\u0103m\xE2n\u0103"),d()()}}function Ug(n,t){n&1&&(l(0,"div",13),h(1," \u{1F527} \xCEn editare "),d())}function Fg(n,t){n&1&&(l(0,"div",14),h(1," \u2705 Validat "),d())}function Vg(n,t){if(n&1){let e=z();l(0,"div",9)(1,"button",10),S("click",function(){y(e);let i=_();return C(i.toggleEditMode())}),h(2),d(),O(3,Ug,2,0,"div",11)(4,Fg,2,0,"div",12),d()}if(n&2){let e=_();p(),g("ngClass",e.editMode?"btn btn-outline-danger":"btn btn-outline-primary"),p(),J(" ",e.editMode?"\xCEnchide":"Editeaz\u0103"," "),p(),g("ngIf",e.editStatus==="editing"),p(),g("ngIf",e.editStatus==="validated")}}function jg(n,t){n&1&&(l(0,"th"),h(1,"Ac\u021Biuni"),d())}function Hg(n,t){if(n&1){let e=z();l(0,"tr")(1,"td")(2,"input",18),V("ngModelChange",function(i){y(e);let o=_(2);return F(o.newEntry.sapt,i)||(o.newEntry.sapt=i),C(i)}),d()(),l(3,"td")(4,"input",19),V("ngModelChange",function(i){y(e);let o=_(2);return F(o.newEntry.data,i)||(o.newEntry.data=i),C(i)}),d()(),l(5,"td")(6,"select",20),V("ngModelChange",function(i){y(e);let o=_(2);return F(o.newEntry.paritate,i)||(o.newEntry.paritate=i),C(i)}),l(7,"option",21),h(8,"Par\u0103"),d(),l(9,"option",22),h(10,"Impar\u0103"),d()()(),l(11,"td")(12,"button",23),S("click",function(){y(e);let i=_(2);return C(i.saveNew())}),h(13,"Salveaz\u0103"),d(),l(14,"button",24),S("click",function(){y(e);let i=_(2);return C(i.cancelAdd())}),h(15,"Anuleaz\u0103"),d()()()}if(n&2){let e=_(2);p(2),U("ngModel",e.newEntry.sapt),p(2),U("ngModel",e.newEntry.data),p(2),U("ngModel",e.newEntry.paritate)}}function zg(n,t){if(n&1){let e=z();l(0,"td")(1,"button",25),S("click",function(){y(e);let i=_(2).index,o=_(2);return C(o.startEdit(i))}),h(2,"Editeaz\u0103"),d(),l(3,"button",26),S("click",function(){y(e);let i=_(2).$implicit,o=_(2);return C(o.deleteParitate(i))}),h(4,"\u0218terge"),d()()}}function Bg(n,t){if(n&1&&(tt(0),l(1,"td"),h(2),d(),l(3,"td"),h(4),d(),l(5,"td"),h(6),d(),O(7,zg,5,0,"td",16),nt()),n&2){let e=_().$implicit,r=_(2);p(2),Y(e.sapt),p(2),Y(e.data),p(2),Y(e.paritate),p(),g("ngIf",r.editMode)}}function $g(n,t){if(n&1){let e=z();l(0,"td")(1,"button",25),S("click",function(){y(e);let i=_(2).index,o=_(2);return C(o.startEdit(i))}),h(2,"Editeaz\u0103"),d(),l(3,"button",26),S("click",function(){y(e);let i=_(2).$implicit,o=_(2);return C(o.deleteParitate(i))}),h(4,"\u0218terge"),d()()}}function Wg(n,t){if(n&1){let e=z();tt(0),l(1,"td")(2,"input",20),V("ngModelChange",function(i){y(e);let o=_(3);return F(o.editEntry.sapt,i)||(o.editEntry.sapt=i),C(i)}),d()(),l(3,"td")(4,"input",20),V("ngModelChange",function(i){y(e);let o=_(3);return F(o.editEntry.data,i)||(o.editEntry.data=i),C(i)}),d()(),l(5,"td")(6,"select",20),V("ngModelChange",function(i){y(e);let o=_(3);return F(o.editEntry.paritate,i)||(o.editEntry.paritate=i),C(i)}),l(7,"option",21),h(8,"Par\u0103"),d(),l(9,"option",22),h(10,"Impar\u0103"),d()()(),O(11,$g,5,0,"td",16),nt()}if(n&2){let e=_(3);p(2),U("ngModel",e.editEntry.sapt),p(2),U("ngModel",e.editEntry.data),p(2),U("ngModel",e.editEntry.paritate),p(5),g("ngIf",e.editMode)}}function qg(n,t){if(n&1&&(l(0,"tr"),O(1,Bg,8,4,"ng-container",16)(2,Wg,12,4,"ng-container",16),d()),n&2){let e=t.index,r=_(2);p(),g("ngIf",r.editIndex!==e),p(),g("ngIf",r.editIndex===e)}}function Gg(n,t){if(n&1&&(l(0,"table",15)(1,"thead")(2,"tr")(3,"th"),h(4,"S\u0103pt\u0103m\xE2n\u0103"),d(),l(5,"th"),h(6,"Data"),d(),l(7,"th"),h(8,"Paritate"),d(),O(9,jg,2,0,"th",16),d()(),l(10,"tbody"),O(11,Hg,16,3,"tr",16)(12,qg,3,2,"tr",17),d()()),n&2){let e=_();p(9),g("ngIf",e.editMode),p(2),g("ngIf",e.addingNew),p(),g("ngForOf",e.paritati)}}function Kg(n,t){if(n&1){let e=z();l(0,"button",27),S("click",function(){y(e);let i=_();return C(i.startAdd())}),h(1,"Adaug\u0103 s\u0103pt\u0103m\xE2n\u0103"),d()}}var Ni=class n{constructor(t,e){this.paritateService=t;this.userService=e}paritati=[];userId=null;addingNew=!1;editIndex=null;editEntry=this.emptyEntry();newEntry=this.emptyEntry();editMode=!1;editStatus="validated";ngOnInit(){this.userId=this.userService.getUserId(),this.loadParitati()}toggleEditMode(){this.editMode=!this.editMode,this.editStatus=this.editMode?"editing":"validated"}emptyEntry(){return{sapt:"",data:"",paritate:"Par\u0103"}}loadParitati(){this.userId?this.paritateService.getParitate(this.userId).subscribe(t=>{this.paritati=t}):console.warn("UserId is null, cannot load data")}startAdd(){this.addingNew=!0,this.newEntry=this.emptyEntry()}cancelAdd(){this.addingNew=!1}saveNew(){this.userId&&this.paritateService.addOrUpdate(this.userId,[this.newEntry]).subscribe(()=>{this.addingNew=!1,this.loadParitati()})}startEdit(t){this.editIndex=t,this.editEntry=b({},this.paritati[t])}cancelEdit(){this.editIndex=null}saveEdit(t){if(!this.userId)return;let e=this.paritati[t],r=this.editEntry;this.paritateService.update(this.userId,e,r).subscribe(()=>{this.editIndex=null,this.loadParitati()})}deleteParitate(t){this.userId&&this.paritateService.delete(this.userId,t).subscribe(()=>{this.loadParitati()})}static \u0275fac=function(e){return new(e||n)(k(Di),k(Q))};static \u0275cmp=$({type:n,selectors:[["app-structura-semestru"]],standalone:!1,decls:7,vars:4,consts:[[1,"container","mt-4"],[1,"mb-3"],["class","centered-message",4,"ngIf"],["class","d-flex justify-content-between align-items-center mb-3",4,"ngIf"],["class","table table-bordered",4,"ngIf"],["class","btn btn-primary mt-2",3,"click",4,"ngIf"],[1,"centered-message"],[1,"mb-3","fs-5"],[1,"btn","btn-primary",3,"click"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[3,"click","ngClass"],["class","text-danger fw-semibold",4,"ngIf"],["class","text-primary fw-semibold",4,"ngIf"],[1,"text-danger","fw-semibold"],[1,"text-primary","fw-semibold"],[1,"table","table-bordered"],[4,"ngIf"],[4,"ngFor","ngForOf"],["placeholder","S01",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","dd.mm.yyyy",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-control",3,"ngModelChange","ngModel"],["value","Par\u0103"],["value","Impar\u0103"],[1,"btn","btn-success","btn-sm","me-2",3,"click"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"btn","btn-warning","btn-sm","me-2",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"btn","btn-primary","mt-2",3,"click"]],template:function(e,r){e&1&&(l(0,"div",0)(1,"h2",1),h(2,"Structura Semestrului"),d(),O(3,Lg,5,0,"div",2)(4,Vg,5,4,"div",3)(5,Gg,13,3,"table",4)(6,Kg,2,0,"button",5),d()),e&2&&(p(3),g("ngIf",r.paritati.length===0&&!r.addingNew),p(),g("ngIf",r.paritati.length>0),p(),g("ngIf",r.paritati.length>0||r.addingNew),p(),g("ngIf",r.paritati.length>0))},dependencies:[Se,rt,ae,ct,lt,pe,st,fe,Te],styles:[".centered-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;margin:3rem 0;padding:1.5rem;max-width:400px;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{max-width:1000px;margin:2rem auto;background:#fff;border-radius:12px;box-shadow:0 8px 20px #0000000d;padding:2rem}h2.mb-3[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:600;color:#2c3e50;text-align:left;margin-bottom:2rem!important}.centered-message[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;margin-bottom:2rem}.table[_ngcontent-%COMP%]{background-color:#fefefe;border-radius:8px;overflow:hidden}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f8f9fa;color:#495057}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:600;font-size:.95rem}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle;text-align:center}input.form-control[_ngcontent-%COMP%], select.form-control[_ngcontent-%COMP%]{height:36px;font-size:.9rem;padding:.375rem .75rem}button.btn[_ngcontent-%COMP%]{font-size:.85rem;padding:.35rem .75rem}.btn-sm[_ngcontent-%COMP%]{min-width:80px}.btn-primary[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%], .btn-warning[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.btn-primary[_ngcontent-%COMP%]:hover, .btn-success[_ngcontent-%COMP%]:hover, .btn-warning[_ngcontent-%COMP%]:hover, .btn-secondary[_ngcontent-%COMP%]:hover, .btn-danger[_ngcontent-%COMP%]:hover{transform:scale(1.05)}@media (max-width: 768px){.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.table[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;width:100%}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{margin-bottom:1rem;border:1px solid #dee2e6;border-radius:8px;padding:.5rem}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;padding-left:50%;position:relative}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{position:absolute;top:.5rem;left:1}}"]})};var Yg=[{path:"login",component:Ti},{path:"register",component:Pi},{path:"",component:ki,canActivate:[Ze]},{path:"user-profile",component:Ri,canActivate:[Ze]},{path:"calendar",component:cn,canActivate:[Ze]},{path:"declaration-generator",component:xi,canActivate:[Ze]},{path:"structura-an",component:Ni,canActivate:[Ze]},{path:"orar",loadComponent:()=>import("./chunk-4JM5SVS3.js").then(n=>n.OrarComponent),canActivate:[Ze]},{path:"**",component:Mi}],Li=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=He({type:n});static \u0275inj=je({imports:[Xr.forRoot(Yg),Xr]})};var Jg=()=>({exact:!0}),Zg=()=>({"background-image":"url(assets/img/default-avatar.png)"});function Xg(n,t){if(n&1){let e=z();tt(0),l(1,"li",10)(2,"a",11),w(3,"i",12),h(4," Dashboard "),d()(),l(5,"li",10)(6,"a",13),w(7,"i",14),h(8," Documents "),d()(),l(9,"li",15)(10,"a",16),w(11,"div",17),l(12,"span",18),h(13),d()(),l(14,"ul",19)(15,"li")(16,"h6",20),h(17,"Signed in as"),d(),l(18,"div",21)(19,"span",22),h(20),d(),l(21,"span",23),h(22),d()()(),l(23,"li"),w(24,"hr",24),d(),l(25,"li")(26,"a",25),w(27,"i",26),h(28," Profile "),d()(),l(29,"li"),w(30,"hr",24),d(),l(31,"li")(32,"a",27),S("click",function(){y(e);let i=_();return C(i.logout())}),w(33,"i",28),h(34," Logout "),d()()()(),nt()}if(n&2){let e=_();p(2),g("routerLinkActiveOptions",no(5,Jg)),p(9),g("ngStyle",no(6,Zg)),p(2),Y(e.user.displayName||e.user.email),p(7),Y(e.user.displayName||"User"),p(2),Y(e.user.email)}}function Qg(n,t){n&1&&(tt(0),l(1,"li",10)(2,"a",29),w(3,"i",30),h(4," Login "),d()(),l(5,"li",10)(6,"a",31),w(7,"i",32),h(8," Register "),d()(),nt())}var Ui=class n{constructor(t,e){this.userService=t;this.router=e}isMenuCollapsed=!0;user;notificationCount=0;ngOnInit(){this.userService.getLoggedInUser().subscribe(t=>{this.user=t})}logout(){this.userService.logout().subscribe(()=>{this.router.navigate(["/login"])})}static \u0275fac=function(e){return new(e||n)(k(Q),k(H))};static \u0275cmp=$({type:n,selectors:[["app-navbar"]],standalone:!1,decls:11,vars:4,consts:[[1,"navbar","navbar-expand-lg"],[1,"container"],["routerLink","/",1,"navbar-brand"],[1,"logo-container"],["src","img/ulbs-logo.png","alt","Universitatea Lucian Blaga din Sibiu",1,"navbar-logo"],["type","button","aria-controls","navbarContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"bi","bi-list"],["id","navbarContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[4,"ngIf"],[1,"nav-item"],["routerLink","/","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],[1,"bi","bi-house-door"],["routerLink","/documents","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-file-earmark-text"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","profile-link","dropdown-toggle"],[1,"profile-avatar",3,"ngStyle"],[1,"profile-name","d-none","d-lg-inline-block"],["aria-labelledby","navbarDropdown",1,"dropdown-menu","dropdown-menu-end","profile-dropdown"],[1,"dropdown-header"],[1,"dropdown-user-info"],[1,"dropdown-user-name"],[1,"dropdown-user-email"],[1,"dropdown-divider"],["routerLink","/user-profile",1,"dropdown-item"],[1,"bi","bi-person"],[1,"dropdown-item","logout-item",3,"click"],[1,"bi","bi-box-arrow-right"],["routerLink","/login",1,"nav-link"],[1,"bi","bi-box-arrow-in-right"],["routerLink","/register",1,"nav-link"],[1,"bi","bi-person-plus"]],template:function(e,r){e&1&&(l(0,"nav",0)(1,"div",1)(2,"a",2)(3,"div",3),w(4,"img",4),d()(),l(5,"button",5),S("click",function(){return r.isMenuCollapsed=!r.isMenuCollapsed}),w(6,"i",6),d(),l(7,"div",7)(8,"ul",8),O(9,Xg,35,7,"ng-container",9)(10,Qg,9,0,"ng-container",9),d()()()()),e&2&&(p(7),cr("show",!r.isMenuCollapsed),p(2),g("ngIf",r.user),p(),g("ngIf",!r.user))},dependencies:[ae,qs,me,Ho],styles:[".navbar[_ngcontent-%COMP%]{background-color:var(--primary-blue);box-shadow:0 2px 10px #0b2f6312;padding:.75rem 0;position:sticky;top:0;z-index:1000;font-family:var(--font-primary)}.navbar-brand[_ngcontent-%COMP%]{padding:0;margin-right:2rem}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px}.navbar-logo[_ngcontent-%COMP%]{height:100%;max-width:220px;object-fit:contain}.navbar-toggler[_ngcontent-%COMP%]{border:none;background-color:transparent;color:var(--primary-blue);padding:.5rem;transition:all .3s ease}.navbar-toggler[_ngcontent-%COMP%]:focus{box-shadow:none;outline:none}.navbar-toggler[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8rem}.navbar-nav[_ngcontent-%COMP%]{margin-left:auto}.nav-item[_ngcontent-%COMP%]{margin:0 .2rem;position:relative}.nav-link[_ngcontent-%COMP%]{color:var(--primary-white);font-weight:500;padding:.65rem 1.2rem;border-radius:6px;transition:all .3s ease;display:flex;align-items:center;gap:.5rem}.nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--blue-80);transition:all .3s ease}.nav-link[_ngcontent-%COMP%]:hover{background-color:var(--blue-20);color:var(--primary-blue)}.nav-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:var(--primary-blue)}.nav-link.active[_ngcontent-%COMP%]{background-color:var(--primary-white);color:var(--primary-blue);font-weight:600}.nav-link.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-blue)}.notification-badge[_ngcontent-%COMP%]{position:absolute;top:.25rem;right:.25rem;background-color:var(--primary-red);color:#fff;border-radius:50%;font-size:.7rem;min-width:18px;height:18px;display:flex;align-items:center;justify-content:center;font-weight:700;padding:0 4px}.profile-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;border-radius:50px!important;padding:.5rem 1rem!important}.profile-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background-color:var(--primary-white);background-size:cover;background-position:center;border:2px solid var(--blue-20);transition:all .3s ease}.profile-link[_ngcontent-%COMP%]:hover   .profile-avatar[_ngcontent-%COMP%]{border-color:var(--primary-blue)}.profile-name[_ngcontent-%COMP%]{font-weight:500;color:var(--primary-white);transition:all .3s ease}.profile-link[_ngcontent-%COMP%]:hover   .profile-name[_ngcontent-%COMP%]{color:var(--primary-blue)}.profile-dropdown[_ngcontent-%COMP%]{min-width:280px;padding:.75rem 0;border:none;border-radius:12px;box-shadow:var(--shadow-medium);margin-top:.75rem;border-top:3px solid var(--primary-blue)}.dropdown-header[_ngcontent-%COMP%]{font-size:.85rem;color:var(--gray-medium);font-weight:500;padding:.5rem 1.5rem}.dropdown-user-info[_ngcontent-%COMP%]{padding:.5rem 1.5rem 1rem}.dropdown-user-name[_ngcontent-%COMP%]{display:block;font-weight:600;color:var(--primary-blue);font-size:1rem;margin-bottom:.25rem}.dropdown-user-email[_ngcontent-%COMP%]{display:block;font-size:.9rem;color:var(--gray-medium)}.dropdown-divider[_ngcontent-%COMP%]{margin:.5rem 0;border-color:#0b2f631a}.dropdown-item[_ngcontent-%COMP%]{padding:.75rem 1.5rem;color:var(--gray-dark);font-weight:500;display:flex;align-items:center;gap:.75rem;transition:all .3s ease}.dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--blue-80);transition:all .3s ease}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:var(--blue-20);color:var(--primary-blue)}.dropdown-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:var(--primary-blue)}.logout-item[_ngcontent-%COMP%]{color:var(--primary-red);cursor:pointer}.logout-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-red)}.logout-item[_ngcontent-%COMP%]:hover{background-color:var(--red-light);color:var(--primary-red)}@media (max-width: 991.98px){.navbar-collapse[_ngcontent-%COMP%]{background-color:var(--primary-white);padding:1rem;border-radius:12px;margin-top:1rem;box-shadow:var(--shadow-light)}.nav-item[_ngcontent-%COMP%]{margin:.5rem 0}.nav-link[_ngcontent-%COMP%]{padding:.75rem 1rem}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:static;float:none;width:100%;margin-top:.5rem;box-shadow:none;border:1px solid var(--blue-20)}.profile-link[_ngcontent-%COMP%]{justify-content:flex-start;width:100%}.profile-name[_ngcontent-%COMP%]{display:inline-block!important}}@media (max-width: 576px){.logo-container[_ngcontent-%COMP%]{height:40px}.navbar-brand[_ngcontent-%COMP%]{margin-right:0}}"]})};var Fi=class n{title="PlataCuOra";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=$({type:n,selectors:[["app-root"]],standalone:!1,decls:3,vars:0,consts:[[1,"main-content"]],template:function(e,r){e&1&&(w(0,"app-navbar"),l(1,"main",0),w(2,"router-outlet"),d())},dependencies:[Nn,Ui],encapsulation:2})};var Vi=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=He({type:n,bootstrap:[Fi]});static \u0275inj=je({imports:[po,Li,gr,ec,it,vr,ac,cn]})};ho().bootstrapModule(Vi,{ngZoneEventCoalescing:!0}).catch(n=>console.error(n));
